
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>pyimgalgos documentation &#8212; pyimgalgos-doc 1 documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head>
  <body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="#">pyimgalgos-doc 1 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pyimgalgos-documentation">
<h1>pyimgalgos documentation<a class="headerlink" href="#pyimgalgos-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-FiberAngles"></span><div class="section" id="class-fiberangles-contains-methods-to-evaluate-angles-in-fiber-diffraction-experiments">
<h2>Class <a class="reference internal" href="#module-FiberAngles" title="FiberAngles"><code class="xref py py-class docutils literal"><span class="pre">FiberAngles</span></code></a> - contains methods to evaluate angles in fiber diffraction experiments<a class="headerlink" href="#class-fiberangles-contains-methods-to-evaluate-angles-in-fiber-diffraction-experiments" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Usage::</dt>
<dd><p class="first"># Import
from pyimgalgos.FiberAngles import fraser, calc_phi, calc_beta, funcy</p>
<p># Fraser transformation:
s12rot, s3rot, fraser_img = fraser(arr, beta_deg, dist_pix, center=None, oshape=(1500,1500))</p>
<p># HBins objects for Fraser transformation:
qh_hbins, qv_hbins = fraser_bins(fraser_img, dist_pix)</p>
<p># Evaluation of fiber tilt angles beta phi (in the image plane) (in transverse to image plane).
phi  = calc_phi (x1, y1, x2, y2, dist)
beta = calc_beta(x1, y1, phi, dist)</p>
<p>#Fit functions
yarr = funcy(xarr, phi_deg, bet_deg)</p>
<p>yarr = funcy_l1_v0(xarr, phi_deg, bet_deg, DoR=0.4765, sgnrt=-1.)
(depric.) yarr = funcy_l1_v1(xarr, phi_deg, bet_deg, DoR=0.4765, sgnrt=-1.)</p>
<p>yarr2 = funcy2(xarr, a, b, c)</p>
<p># Conversion methods
qx, qy, qz = recipnorm(x, y, z) # returns q/fabs(k) components for 3-d point along k^prime.</p>
<p>xe, ye = rqh_to_xy(re, qh) # Returns reciprocal (xe,ye) coordinates of the qh projection on Ewald sphere of radius re.
xe, ye, ze = rqhqv_to_xyz(re, qh, qv) # Returns reciprocal (xe,ye,ze) coordinates of the qh,qv projection on Ewald sphere of radius re.</p>
<p class="last"># Commands to test in the release directory: 
# python ./pyimgalgos/src/FiberAngles.py &lt;test-id&gt;
# where
# &lt;test-id&gt; = 1 - test of the Fraser transformation
# &lt;test-id&gt; = 2 - test of the phi angle
# &lt;test-id&gt; = 3 - test of the beta angle</p>
</dd>
</dl>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalUtils" title="GlobalUtils"><code class="xref py py-class docutils literal"><span class="pre">GlobalUtils</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a></li>
<li><a class="reference internal" href="#module-Quaternion" title="Quaternion"><code class="xref py py-class docutils literal"><span class="pre">Quaternion</span></code></a></li>
<li><a class="reference internal" href="#module-FiberAngles" title="FiberAngles"><code class="xref py py-class docutils literal"><span class="pre">FiberAngles</span></code></a></li>
<li><a class="reference internal" href="#module-FiberIndexing" title="FiberIndexing"><code class="xref py py-class docutils literal"><span class="pre">FiberIndexing</span></code></a></li>
<li><a class="reference internal" href="#module-PeakData" title="PeakData"><code class="xref py py-class docutils literal"><span class="pre">PeakData</span></code></a></li>
<li><a class="reference internal" href="#module-PeakStore" title="PeakStore"><code class="xref py py-class docutils literal"><span class="pre">PeakStore</span></code></a></li>
<li><a class="reference internal" href="#module-TDCheetahPeakRecord" title="TDCheetahPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDCheetahPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDFileContainer" title="TDFileContainer"><code class="xref py py-class docutils literal"><span class="pre">TDFileContainer</span></code></a></li>
<li><a class="reference internal" href="#module-TDGroup" title="TDGroup"><code class="xref py py-class docutils literal"><span class="pre">TDGroup</span></code></a></li>
<li><a class="reference internal" href="#module-TDMatchRecord" title="TDMatchRecord"><code class="xref py py-class docutils literal"><span class="pre">TDMatchRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDNodeRecord" title="TDNodeRecord"><code class="xref py py-class docutils literal"><span class="pre">TDNodeRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDPeakRecord" title="TDPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Analysis+of+data+for+cxif5315">Analysis of data for cxif5315</a>.</li>
</ul>
</dd>
</dl>
<p>Created in 2015 by Mikhail Dubrovin</p>
<dl class="class">
<dt id="FiberAngles.Storage">
<em class="property">class </em><code class="descclassname">FiberAngles.</code><code class="descname">Storage</code><a class="reference internal" href="_modules/FiberAngles.html#Storage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.Storage" title="Permalink to this definition">¶</a></dt>
<dd><p>Storage class for local data exchange between methods.</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.calc_beta">
<code class="descclassname">FiberAngles.</code><code class="descname">calc_beta</code><span class="sig-paren">(</span><em>xpix</em>, <em>ypix</em>, <em>phi</em>, <em>dist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#calc_beta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.calc_beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates fiber beta angle [rad] for two peaks in equatorial region
- xpix - [in] x coordinate of the point
- ypix - [in] y coordinate of the point 
- phi  - [in] fiber tilt angle [rad] if the detector plane
- dist - [in] distance from sample to detector</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.calc_phi">
<code class="descclassname">FiberAngles.</code><code class="descname">calc_phi</code><span class="sig-paren">(</span><em>x1pix</em>, <em>y1pix</em>, <em>x2pix</em>, <em>y2pix</em>, <em>dist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#calc_phi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.calc_phi" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates fiber phi angle [rad] for two peaks in equatorial region
- x1pix - [in] x coordinate of the 1st point
- y1pix - [in] y coordinate of the 1st point 
- x1pix - [in] x coordinate of the 2nd point 
- y1pix - [in] y coordinate of the 2nd point 
- dist  - [in] distance from sample to detector</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.fraser">
<code class="descclassname">FiberAngles.</code><code class="descname">fraser</code><span class="sig-paren">(</span><em>arr</em>, <em>beta_deg</em>, <em>z</em>, <em>center=None</em>, <em>oshape=(1500</em>, <em>1500)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#fraser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.fraser" title="Permalink to this definition">¶</a></dt>
<dd><p>Do Fraser correction for an array at angle beta and sample-to-detector distance z, given in
number of pixels (109.92um), angle is in degrees.
Example: fraser(array,10,909); (10 degrees at 100mm distance)</p>
<p>ASSUMPTION:
1. by default 2-d arr image center corresponds to (x,y) origin 
- arr      - [in] 2-d image array
- beta_deg - [in] angle beta in degrees
- z        - [in] distance from sample to detector given in units of pixel size (110um)
- center   - [in] center (row,column) location on image, which will be used as (x,y) origin 
- oshape   - [in] ouitput image shape</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.fraser_bins">
<code class="descclassname">FiberAngles.</code><code class="descname">fraser_bins</code><span class="sig-paren">(</span><em>fraser_img</em>, <em>dist_pix</em>, <em>dqv=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#fraser_bins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.fraser_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns horizontal and vertical HBins objects for pixels in units of k=1
Fraser imaging array, returned by method fraser(…).
Units: sample to detector distance dist_pix given in pixels, 
dqv - normalized offset for qv (for l=1 etc.)</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.fraser_xyz">
<code class="descclassname">FiberAngles.</code><code class="descname">fraser_xyz</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em>, <em>beta_deg</em>, <em>k=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#fraser_xyz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.fraser_xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Do Fraser transformation for of 3-d points given by x,y,z arrays for angle beta around x and
returns horizontal and vertical components of the scattering vector in units of k (1(def)-relative or eV or 1/A).
x,y-arrays representing image point coordinates, z-can be scalar - distance from sample to detector.
x, y, and z should be in the same units; ex.: number of pixels (109.92um) or [um], angle is in degrees.
Example: fraser_xy(x,y,909,10); (10 degrees at 909 pixel (100mm) distance)</p>
<p>ASSUMPTION:
- x,y,z    - [in] point coordinate arrays with originn in IP
- beta_deg - [in] angle beta in degrees
- k        - [in] scale factor, ex.: wave number in units of (eV or 1/A).</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.funcy">
<code class="descclassname">FiberAngles.</code><code class="descname">funcy</code><span class="sig-paren">(</span><em>x</em>, <em>phi_deg</em>, <em>bet_deg</em><span class="sig-paren">)</span><a class="headerlink" href="#FiberAngles.funcy" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for parameterization of y(x, phi, beta)
of peaks in mediane plane for fiber diffraction
ATTENTION!: curve_fit assumes that x and returned y are numpy arrays.</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.funcy2">
<code class="descclassname">FiberAngles.</code><code class="descname">funcy2</code><span class="sig-paren">(</span><em>x</em>, <em>a</em>, <em>b</em>, <em>c</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#funcy2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.funcy2" title="Permalink to this definition">¶</a></dt>
<dd><p>Quadratic polynomial function to test curve_fit.</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.funcy_l0">
<code class="descclassname">FiberAngles.</code><code class="descname">funcy_l0</code><span class="sig-paren">(</span><em>x</em>, <em>phi_deg</em>, <em>bet_deg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#funcy_l0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.funcy_l0" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for parameterization of y(x, phi, beta)
of peaks in mediane plane for fiber diffraction
ATTENTION!: curve_fit assumes that x and returned y are numpy arrays.</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.funcy_l1_v0">
<code class="descclassname">FiberAngles.</code><code class="descname">funcy_l1_v0</code><span class="sig-paren">(</span><em>x</em>, <em>phi_deg</em>, <em>bet_deg</em>, <em>DoR=0.474</em>, <em>sgnrt=-1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#funcy_l1_v0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.funcy_l1_v0" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRICATED: D/L - is not a constant as it should be
Function for parameterization of y(x, phi, beta). v0: EQUATION FOR D/L=…
of peaks in l=1 plane for fiber diffraction
DoR = d/R ratio, where d is a distance between l=0 and l=1 on image,
DoR = 433/913.27 - default constant
R is sample to detector distance
ATTENTION!: curve_fit assumes that x and returned y are numpy arrays.</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.funcy_l1_v1">
<code class="descclassname">FiberAngles.</code><code class="descname">funcy_l1_v1</code><span class="sig-paren">(</span><em>x</em>, <em>phi_deg</em>, <em>bet_deg</em>, <em>DoR=0.4292</em>, <em>sgnrt=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#funcy_l1_v1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.funcy_l1_v1" title="Permalink to this definition">¶</a></dt>
<dd><p>v0: EQUATION FOR D/R. Function for parameterization of y(x, phi, beta)
of peaks in l=1 plane for fiber diffraction
DoR = d/R ratio, where d is a distance between l=0 and l=1 on image,
DoR = 392/913.27 - default
R is sample to detector distance
ATTENTION!: curve_fit assumes that x and returned y are numpy arrays.</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.funcy_v0">
<code class="descclassname">FiberAngles.</code><code class="descname">funcy_v0</code><span class="sig-paren">(</span><em>x</em>, <em>phi_deg</em>, <em>bet_deg</em><span class="sig-paren">)</span><a class="headerlink" href="#FiberAngles.funcy_v0" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for parameterization of y(x, phi, beta)
of peaks in mediane plane for fiber diffraction
ATTENTION!: curve_fit assumes that x and returned y are numpy arrays.</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.qh_to_xy">
<code class="descclassname">FiberAngles.</code><code class="descname">qh_to_xy</code><span class="sig-paren">(</span><em>qh</em>, <em>R</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#qh_to_xy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.qh_to_xy" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias to DEPRICATED method with swaped parameters.</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.recipnorm">
<code class="descclassname">FiberAngles.</code><code class="descname">recipnorm</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#recipnorm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.recipnorm" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns normalizd reciprocal space coordinates (qx,qy,qz)
of the scattering vector q = (k^prime - k)/abs(k),
and assuming that
- scattering point is a 3-d space origin, also center of the Ewalds sphere
- k points from 3-d space origin to the point with coordinates x, y, z
(pixel coordinates relative to IP)
- scattering is elastic, no energy loss or gained, abs(k^prime)=abs(k)
- reciprocal space origin is in the intersection point of axes z and Ewald’s sphere.</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.rotation">
<code class="descclassname">FiberAngles.</code><code class="descname">rotation</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em>, <em>angle_deg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#rotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.rotation" title="Permalink to this definition">¶</a></dt>
<dd><p>For numpy arrays X and Y returns the numpy arrays of Xrot and Yrot rotated by angle_deg</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.rotation_cs">
<code class="descclassname">FiberAngles.</code><code class="descname">rotation_cs</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em>, <em>C</em>, <em>S</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#rotation_cs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.rotation_cs" title="Permalink to this definition">¶</a></dt>
<dd><p>For numpy arrays X and Y returns the numpy arrays of Xrot and Yrot</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.rotation_phi_beta">
<code class="descclassname">FiberAngles.</code><code class="descname">rotation_phi_beta</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em>, <em>phi_deg</em>, <em>beta_deg</em>, <em>scale</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#rotation_phi_beta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.rotation_phi_beta" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns horizontal and vertical components of the scattering vector in units of scale (k)
x, y can be arrays, z-scalar in the same units, ex. scale = k[1/A] or in number of pixels etc.</p>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.rqh_to_xz">
<code class="descclassname">FiberAngles.</code><code class="descname">rqh_to_xz</code><span class="sig-paren">(</span><em>re</em>, <em>qh</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#rqh_to_xz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.rqh_to_xz" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns reciprocal (qxe,qze) coordinates of the qh projection on Ewald sphere of radius re.</p>
<p>Parameters</p>
<blockquote>
<div><ul class="simple">
<li>re - (float scalar) Ewald sphere radius (1/A)</li>
<li>qh - (numpy array) horizontal component of q values (1/A)</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>Assumption: </dt>
<dd>reciprocal frame origin (0,0) is on Ewald sphere,  
center of the Ewald sphere is in (-re,0), 
qh is a length of the Ewald sphere chorde from origin to the point with peak.
NOTE: qh, sina, cosa, qxe, qze - can be numpy arrays shaped as qh.
Returns: qxe, qze - coordinates of the point on Ewald sphere equivalent to q(re,qh);
Ewald sphere frame has an experiment/detector-like definition of axes;
- qze - along the beam,
- qxe - transverse to the beam in l=0 horizontal plane.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="FiberAngles.rqhqv_to_xyz">
<code class="descclassname">FiberAngles.</code><code class="descname">rqhqv_to_xyz</code><span class="sig-paren">(</span><em>re</em>, <em>qh</em>, <em>qv</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberAngles.html#rqhqv_to_xyz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberAngles.rqhqv_to_xyz" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns reciprocal (xe,ye,ze) coordinates of the q(re,qh,qv) projections on Ewald sphere frame.
Reciprocal frame has origin on Ewald sphere and experiment/detector-like definition of axes;
ze - along the beam,
xe, ye - transverse to the beam in horizontal and vertical plane, respectively.
Need in this method for l=1 or other 3-d cases.</p>
</dd></dl>

</div>
<span class="target" id="module-FiberIndexing"></span><div class="section" id="fiberindexing-collection-of-methods-for-fiber-indexing">
<h2><a class="reference internal" href="#module-FiberIndexing" title="FiberIndexing"><code class="xref py py-class docutils literal"><span class="pre">FiberIndexing</span></code></a> collection of methods for fiber indexing<a class="headerlink" href="#fiberindexing-collection-of-methods-for-fiber-indexing" title="Permalink to this headline">¶</a></h2>
<p>This software was developed in co-operation with Meng for analysis of data cxif5315.</p>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalUtils" title="GlobalUtils"><code class="xref py py-class docutils literal"><span class="pre">GlobalUtils</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a></li>
<li><a class="reference internal" href="#module-Quaternion" title="Quaternion"><code class="xref py py-class docutils literal"><span class="pre">Quaternion</span></code></a></li>
<li><a class="reference internal" href="#module-FiberAngles" title="FiberAngles"><code class="xref py py-class docutils literal"><span class="pre">FiberAngles</span></code></a></li>
<li><a class="reference internal" href="#module-FiberIndexing" title="FiberIndexing"><code class="xref py py-class docutils literal"><span class="pre">FiberIndexing</span></code></a></li>
<li><a class="reference internal" href="#module-PeakData" title="PeakData"><code class="xref py py-class docutils literal"><span class="pre">PeakData</span></code></a></li>
<li><a class="reference internal" href="#module-PeakStore" title="PeakStore"><code class="xref py py-class docutils literal"><span class="pre">PeakStore</span></code></a></li>
<li><a class="reference internal" href="#module-TDCheetahPeakRecord" title="TDCheetahPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDCheetahPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDFileContainer" title="TDFileContainer"><code class="xref py py-class docutils literal"><span class="pre">TDFileContainer</span></code></a></li>
<li><a class="reference internal" href="#module-TDGroup" title="TDGroup"><code class="xref py py-class docutils literal"><span class="pre">TDGroup</span></code></a></li>
<li><a class="reference internal" href="#module-TDMatchRecord" title="TDMatchRecord"><code class="xref py py-class docutils literal"><span class="pre">TDMatchRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDNodeRecord" title="TDNodeRecord"><code class="xref py py-class docutils literal"><span class="pre">TDNodeRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDPeakRecord" title="TDPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Analysis+of+data+for+cxif5315">Analysis of data for cxif5315</a>.</li>
</ul>
</dd>
</dl>
<p>Created on Oct 7, 2015 by Mikhail Dubrovin</p>
<dl class="class">
<dt id="FiberIndexing.BinPars">
<em class="property">class </em><code class="descclassname">FiberIndexing.</code><code class="descname">BinPars</code><span class="sig-paren">(</span><em>edges</em>, <em>nbins</em>, <em>vtype=&lt;type 'numpy.float32'&gt;</em>, <em>endpoint=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#BinPars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.BinPars" title="Permalink to this definition">¶</a></dt>
<dd><p>Bin parameters storage</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.check_triclinic_primitive_vectors">
<code class="descclassname">FiberIndexing.</code><code class="descname">check_triclinic_primitive_vectors</code><span class="sig-paren">(</span><em>a</em>, <em>b</em>, <em>c</em>, <em>alp</em>, <em>bet</em>, <em>gam</em>, <em>vrb=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#check_triclinic_primitive_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.check_triclinic_primitive_vectors" title="Permalink to this definition">¶</a></dt>
<dd><ol class="arabic simple">
<li>prints input parameters of primitive vectors,</li>
<li>prints three primitive vectors and their reconstructed parameters,</li>
<li>reitrive parameters of primitive vectors,</li>
<li>compare with input and print results of comparison.</li>
</ol>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.fill_row">
<code class="descclassname">FiberIndexing.</code><code class="descname">fill_row</code><span class="sig-paren">(</span><em>dr</em>, <em>qv</em>, <em>qh</em>, <em>h</em>, <em>k</em>, <em>l</em>, <em>sigma_ql</em>, <em>sigma_qt</em>, <em>bpq</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#fill_row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.fill_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns histogram array (row) for horizontal q component
filled by probability to see the peak, modulated by the Gaussian function of dr,
where dr is a radial distance between the lattice node and Evald’s sphere.</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.lattice">
<code class="descclassname">FiberIndexing.</code><code class="descname">lattice</code><span class="sig-paren">(</span><em>b1=(1.0</em>, <em>0.0</em>, <em>0.0)</em>, <em>b2=(0.0</em>, <em>1.0</em>, <em>0.0)</em>, <em>b3=(0.0</em>, <em>0.0</em>, <em>1.0)</em>, <em>hmax=3</em>, <em>kmax=2</em>, <em>lmax=1</em>, <em>cdtype=&lt;type 'numpy.float32'&gt;</em>, <em>hmin=None</em>, <em>kmin=None</em>, <em>lmin=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#lattice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.lattice" title="Permalink to this definition">¶</a></dt>
<dd><p>returns n-d arrays of 3d coordinates or 2d(if lmax=0) for 3d lattice and Miller hkl indices</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.make_lookup_table">
<code class="descclassname">FiberIndexing.</code><code class="descname">make_lookup_table</code><span class="sig-paren">(</span><em>b1=(1.0</em>, <em>0.0</em>, <em>0.0)</em>, <em>b2=(0.0</em>, <em>1.0</em>, <em>0.0)</em>, <em>b3=(0.0</em>, <em>0.0</em>, <em>1.0)</em>, <em>hmax=3</em>, <em>kmax=2</em>, <em>lmax=1</em>, <em>cdtype=&lt;type 'numpy.float32'&gt;</em>, <em>evald_rad=3</em>, <em>sigma_q=0.001</em>, <em>fout=None</em>, <em>bpq=None</em>, <em>bpomega=None</em>, <em>bpbeta=None</em>, <em>hmin=None</em>, <em>kmin=None</em>, <em>lmin=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#make_lookup_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.make_lookup_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Depricated, see  make_lookup_table_v2 with sigma_ql, sigma_qt in stead of sigma_q</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.make_lookup_table_v2">
<code class="descclassname">FiberIndexing.</code><code class="descname">make_lookup_table_v2</code><span class="sig-paren">(</span><em>b1=(1.0</em>, <em>0.0</em>, <em>0.0)</em>, <em>b2=(0.0</em>, <em>1.0</em>, <em>0.0)</em>, <em>b3=(0.0</em>, <em>0.0</em>, <em>1.0)</em>, <em>hmax=3</em>, <em>kmax=2</em>, <em>lmax=1</em>, <em>cdtype=&lt;type 'numpy.float32'&gt;</em>, <em>evald_rad=3</em>, <em>sigma_ql=0.001</em>, <em>sigma_qt=0.001</em>, <em>fout=None</em>, <em>bpq=None</em>, <em>bpomega=None</em>, <em>bpbeta=None</em>, <em>hmin=None</em>, <em>kmin=None</em>, <em>lmin=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#make_lookup_table_v2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.make_lookup_table_v2" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes lookup table - crystal lattice nodes information as a function of angle beta and omega, where
beta  [deg] - fiber axis tilt,  
omega [deg] - fiber rotation around axis,  
For each crysal orientation (beta, gamma) lookup table contains info about lattice nodes
closest to the Evald’s sphere:</p>
<ul class="simple">
<li># beta 0.00  omega 52.50 degree</li>
<li># index    beta   omega   h   k   l   dr[1/A]  R(h,k,l)   qv[1/A]   qh[1/A]   qt[1/A]   ql[1/A]   P(omega)</li>
<li>106     0.00   52.50  -2  -1   0 -0.002756  0.123157  0.000000 -0.123478 -0.122470 -0.015745   0.165321</li>
<li>106     0.00   52.50   1   1   0 -0.000249  0.072533  0.000000  0.072551  0.072347 -0.005436   0.985422</li>
<li>106     0.00   52.50   3   5   0  0.000687  0.273564  0.000000  0.273369  0.262250 -0.077171   0.894200</li>
</ul>
<p>where:</p>
<ul class="simple">
<li>index - orientation index (just an unique integer number)</li>
<li>beta, omega [deg] - crystal orientation angles,</li>
<li>h, k, l - Miller indeces</li>
<li>dr [1/A] - distance between lattice node and Evald’s sphere</li>
<li>R(h,k,l) [1/A] - distance between nodes (h,k,l) and (0,0,0)</li>
<li>qv, qh [1/A] - vertical and horizontal components of scattering vector q</li>
<li>qt, ql [1/A] - transverse (in horizontal plane) and longitudinal components of vector q</li>
<li>P(omega) - un-normalized probability (&lt;1) evaluated for dr(omega) using sigma_ql.</li>
</ul>
<p>File name is generated automatically with current time stamp like
lut-cxif5315-r0169-2015-10-23T14:58:36.txt</p>
<p>Input parameters:
b1, b2, b3 - reciprocal lattice primitive vectors,
hmax, kmax, lmax - lattice node indeces
cdtype - data type for lattice node coordinates,
evald_rad - Evald’s sphere radius,
sigma_ql - expected q resolution along k (due to crystal rotation),
sigma_qt - expected qt resolution (in detector plane),
fout - open output file object,
bpq, bpomega, bpbeta - binning parameters for q, omega, and beta
NOTE: Units of b1, b2, b3, evald_rad, and sigma_q should be the same, for example [1/A].</p>
<p>Returns 2-d numpy array for image; summed for all beta probobility(omega vs. q_horizontal).</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.parameters_of_primitive_vectors">
<code class="descclassname">FiberIndexing.</code><code class="descname">parameters_of_primitive_vectors</code><span class="sig-paren">(</span><em>a1</em>, <em>a2</em>, <em>a3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#parameters_of_primitive_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.parameters_of_primitive_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a, b, c, alpha, beta, gamma for three primitive vectors a1, a2, a3.</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.plot_lattice">
<code class="descclassname">FiberIndexing.</code><code class="descname">plot_lattice</code><span class="sig-paren">(</span><em>b1=(1.0</em>, <em>0.0</em>, <em>0.0)</em>, <em>b2=(0.0</em>, <em>1.0</em>, <em>0.0)</em>, <em>b3=(0.0</em>, <em>0.0</em>, <em>1.0)</em>, <em>hmax=3</em>, <em>kmax=2</em>, <em>lmax=1</em>, <em>cdtype=&lt;type 'numpy.float32'&gt;</em>, <em>evald_rad=0.5</em>, <em>qtol=0.01</em>, <em>prefix=''</em>, <em>do_movie=False</em>, <em>delay=400</em>, <em>hmin=None</em>, <em>kmin=None</em>, <em>lmin=None</em>, <em>title_add=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#plot_lattice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.plot_lattice" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots 2-d reciprocal space lattice, evald sphere,
generates series of plots for rotated lattice and movie from these plots.</p>
<ul class="simple">
<li>do_movie = True/False - on/off production of movie</li>
<li>delay - is a time in msec between movie frames.</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.print_nda">
<code class="descclassname">FiberIndexing.</code><code class="descname">print_nda</code><span class="sig-paren">(</span><em>nda</em>, <em>cmt</em>, <em>fmt=' %8.4f'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#print_nda"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.print_nda" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints ndarray and its shape with preceded comment.</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.print_omega_dr">
<code class="descclassname">FiberIndexing.</code><code class="descname">print_omega_dr</code><span class="sig-paren">(</span><em>omega_deg</em>, <em>dr</em>, <em>drmax=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#print_omega_dr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.print_omega_dr" title="Permalink to this definition">¶</a></dt>
<dd><p>Depricated, see str_omega_drhkl.</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.print_primitive_vectors">
<code class="descclassname">FiberIndexing.</code><code class="descname">print_primitive_vectors</code><span class="sig-paren">(</span><em>a1</em>, <em>a2</em>, <em>a3</em>, <em>fmt='%10.6f'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#print_primitive_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.print_primitive_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints three primitive vectors and their derived parameters.</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.q_components">
<code class="descclassname">FiberIndexing.</code><code class="descname">q_components</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em>, <em>Z</em>, <em>evald_rad=0.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#q_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.q_components" title="Permalink to this definition">¶</a></dt>
<dd><p>For all defined nodes of the lattice returns
dr - distance from evald sphere to the reciprocal lattice node,
qv, qh - vertical, horizontal components of the momentum transfer vector.
NOTE: X, Y, Z, DX, L, dr, qv, qh, ql, qy, ql are the numpy arrays with shape=(2*lmax+1, 2*kmax+1, 2*hmax+1), evald_rad is a scalar</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.reciprocal_from_bravias">
<code class="descclassname">FiberIndexing.</code><code class="descname">reciprocal_from_bravias</code><span class="sig-paren">(</span><em>a1</em>, <em>a2</em>, <em>a3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#reciprocal_from_bravias"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.reciprocal_from_bravias" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns reciprocal primitive vectors from 3-d Bravias primitive vectors
using crystallographer’s definition for conversion as 1/d
(2*pi/d - comes from natural physics definition).</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.rotation">
<code class="descclassname">FiberIndexing.</code><code class="descname">rotation</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em>, <em>angle_deg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#rotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.rotation" title="Permalink to this definition">¶</a></dt>
<dd><p>For numpy arrays X and Y returns the numpy arrays of Xrot and Yrot rotated by angle_deg</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.rotation_cs">
<code class="descclassname">FiberIndexing.</code><code class="descname">rotation_cs</code><span class="sig-paren">(</span><em>X</em>, <em>Y</em>, <em>c</em>, <em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#rotation_cs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.rotation_cs" title="Permalink to this definition">¶</a></dt>
<dd><p>For numpy arrays X and Y returns the numpy arrays of Xrot and Yrot
for specified rotation angle cosine and sine values.</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.round_vzeros">
<code class="descclassname">FiberIndexing.</code><code class="descname">round_vzeros</code><span class="sig-paren">(</span><em>v</em>, <em>d=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#round_vzeros"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.round_vzeros" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns input vector with rounded to zero components
which precision less than requested number of digits.</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.str_omega_drhkl">
<code class="descclassname">FiberIndexing.</code><code class="descname">str_omega_drhkl</code><span class="sig-paren">(</span><em>ind</em>, <em>beta_deg</em>, <em>omega_deg</em>, <em>dr</em>, <em>r</em>, <em>qv</em>, <em>qh</em>, <em>qt</em>, <em>ql</em>, <em>h</em>, <em>k</em>, <em>l</em>, <em>sigma_ql</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#str_omega_drhkl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.str_omega_drhkl" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the record to save in look-up table or print.</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.triclinic_primitive_vectors">
<code class="descclassname">FiberIndexing.</code><code class="descname">triclinic_primitive_vectors</code><span class="sig-paren">(</span><em>a=18.36</em>, <em>b=26.65</em>, <em>c=4.81</em>, <em>alpha=90</em>, <em>beta=90</em>, <em>gamma=102.83</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#triclinic_primitive_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.triclinic_primitive_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns 3-d (Bravias) primitive vectors directed along crystal axes (edges)
from lattice cell edge lengths [Angstrom or other prefered units] and angles [degree]
for triclinic crystal cell parametes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>       <span class="o">*----------*</span> 
      <span class="o">/</span> \        <span class="o">/</span> \ 
     <span class="o">/</span>   \      <span class="o">/</span>   \ 
    <span class="o">/</span>     \ <span class="n">gamma</span>    \ 
   <span class="o">/</span>       <span class="o">*----------*</span> 
  <span class="o">/</span>       <span class="o">/</span>  <span class="o">/</span>       <span class="o">/</span> 
 <span class="o">/</span><span class="n">alpha</span>  <span class="o">/</span>  <span class="o">/</span>       <span class="o">/</span> 
<span class="o">*-------/--*</span>       <span class="n">c</span> 
 \     <span class="o">/</span>    \ <span class="n">beta</span><span class="o">/</span> 
  <span class="n">a</span>   <span class="o">/</span>      \   <span class="o">/</span> 
   \ <span class="o">/</span>        \ <span class="o">/</span> 
    <span class="o">*-----</span><span class="n">b</span><span class="o">----*</span> 
</pre></div>
</div>
<p>where a, b, c - crystal cell edge lengths,
alpha, beta, gamma - interaxial angles around a, b, c edges, respectively’
By design, a1 vector for edge a is directed along x,
a2 vector for edge b is in x-y plane, has (x,y,0) components only,
a3 vector for edge c has (x,y,z) components.</p>
<p>See geometry details in my logbook p.7-8.</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.wave_vector_value">
<code class="descclassname">FiberIndexing.</code><code class="descname">wave_vector_value</code><span class="sig-paren">(</span><em>E_eV=6000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#wave_vector_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.wave_vector_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns wave vector/number value
k = 1/lambda    [1/A] - crystalographer’s definition
k = 2*pi/lambda [1/A] - physics definition</p>
</dd></dl>

<dl class="function">
<dt id="FiberIndexing.wavelength_nm_from_energy_ev">
<code class="descclassname">FiberIndexing.</code><code class="descname">wavelength_nm_from_energy_ev</code><span class="sig-paren">(</span><em>E_eV=6000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/FiberIndexing.html#wavelength_nm_from_energy_ev"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#FiberIndexing.wavelength_nm_from_energy_ev" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns wavelength in nm, evaluated from photon energy in eV (1Angstroms = 10**-10m)
E=h*v = h*c/lambda
6keV approx. = 2A</p>
</dd></dl>

</div>
<span class="target" id="module-NDArrGenerators"></span><div class="section" id="ndarrgenerators-wrapping-methods-for-numpy-random-array-generators">
<h2><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a> wrapping methods for numpy random array generators<a class="headerlink" href="#ndarrgenerators-wrapping-methods-for-numpy-random-array-generators" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyimgalgos.NDArrGenerators</span> <span class="k">as</span> <span class="nn">ag</span>

<span class="c1"># Methods</span>

<span class="n">v</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">prod_of_elements</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int</span><span class="p">)</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">size_from_shape</span><span class="p">()</span> <span class="c1"># use nda.size()</span>

<span class="n">shape</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">shape_as_2d</span><span class="p">(</span><span class="n">sh</span><span class="p">)</span>
<span class="n">shape</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">shape_as_3d</span><span class="p">(</span><span class="n">sh</span><span class="p">)</span>
<span class="n">arr2d</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">reshape_to_2d</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>
<span class="n">arr3d</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">reshape_to_3d</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>
<span class="n">nda</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">random_standard</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">60</span><span class="p">),</span> <span class="n">mu</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
<span class="n">nda</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">random_exponential</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">60</span><span class="p">),</span> <span class="n">a0</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
<span class="n">nda</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">random_one</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">60</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
<span class="n">nda</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">random_256</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">60</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="n">nda</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">random_xffffffff</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">60</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint32</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="mh">0xff000000</span><span class="p">)</span>
<span class="n">nda</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">aranged_array</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">60</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint32</span><span class="p">)</span>
<span class="n">ag</span><span class="o">.</span><span class="n">print_ndarr</span><span class="p">(</span><span class="n">nda</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">first</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">nda</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">ring_intensity</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">r0</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
<span class="n">ag</span><span class="o">.</span><span class="n">add_ring</span><span class="p">(</span><span class="n">arr2d</span><span class="p">,</span> <span class="n">amp</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mf">4.3</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mf">5.8</span><span class="p">,</span> <span class="n">rad</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">peaks</span> <span class="o">=</span> <span class="n">ag</span><span class="o">.</span><span class="n">add_random_peaks</span><span class="p">(</span><span class="n">arr2d</span><span class="p">,</span> <span class="n">npeaks</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">amean</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">arms</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">wmean</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">wrms</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a></li>
<li><a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.random.rand.html">numpy.random.rand</a>.</li>
<li><a class="reference external" href="https://matplotlib.org/contents.html">matplotlib</a>.</li>
</ul>
</dd>
</dl>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<p>Created on Nov 23, 2015 by Mikhail Dubrovin</p>
<dl class="function">
<dt id="NDArrGenerators.add_random_peaks">
<code class="descclassname">NDArrGenerators.</code><code class="descname">add_random_peaks</code><span class="sig-paren">(</span><em>arr2d</em>, <em>npeaks=10</em>, <em>amean=100</em>, <em>arms=50</em>, <em>wmean=2</em>, <em>wrms=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#add_random_peaks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.add_random_peaks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns 2-d array with peaks.</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.add_ring">
<code class="descclassname">NDArrGenerators.</code><code class="descname">add_ring</code><span class="sig-paren">(</span><em>arr2d</em>, <em>amp=100</em>, <em>row=4.3</em>, <em>col=5.8</em>, <em>rad=100</em>, <em>sigma=3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#add_ring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.add_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds peak Gaussian-shaped peak intensity to numpy array arr2d
Parameters
———-
arr2d : np.array - 2-d numpy array 
amp : float - ring intensity
row : float - ring center row
col : float - ring center col
rad : float - ring mean radius
sigma : float - width of the peak</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.aranged_array">
<code class="descclassname">NDArrGenerators.</code><code class="descname">aranged_array</code><span class="sig-paren">(</span><em>shape=(40</em>, <em>60)</em>, <em>dtype=&lt;type 'numpy.uint32'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#aranged_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.aranged_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns numpy array of requested shape and type filling with ascending integer numbers.</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.print_ndarr">
<code class="descclassname">NDArrGenerators.</code><code class="descname">print_ndarr</code><span class="sig-paren">(</span><em>nda</em>, <em>name=''</em>, <em>first=0</em>, <em>last=5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#print_ndarr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.print_ndarr" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints array attributes, title, and a few elements in a single line.</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.prod_of_elements">
<code class="descclassname">NDArrGenerators.</code><code class="descname">prod_of_elements</code><span class="sig-paren">(</span><em>arr</em>, <em>dtype=&lt;type 'int'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#prod_of_elements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.prod_of_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns product of sequence elements</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.random_1">
<code class="descclassname">NDArrGenerators.</code><code class="descname">random_1</code><span class="sig-paren">(</span><em>shape=(40</em>, <em>60)</em>, <em>dtype=&lt;type 'float'&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#NDArrGenerators.random_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns numpy array of requested shape and type filled with random numbers in the range [0,255].</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.random_256">
<code class="descclassname">NDArrGenerators.</code><code class="descname">random_256</code><span class="sig-paren">(</span><em>shape=(40</em>, <em>60)</em>, <em>dtype=&lt;type 'numpy.uint8'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#random_256"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.random_256" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns numpy array of requested shape and type filled with random numbers in the range [0,255].</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.random_exponential">
<code class="descclassname">NDArrGenerators.</code><code class="descname">random_exponential</code><span class="sig-paren">(</span><em>shape=(40</em>, <em>60)</em>, <em>a0=100</em>, <em>dtype=&lt;type 'float'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#random_exponential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.random_exponential" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns numpy array of requested shape and type filled with exponential distribution for width a0.</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.random_one">
<code class="descclassname">NDArrGenerators.</code><code class="descname">random_one</code><span class="sig-paren">(</span><em>shape=(40</em>, <em>60)</em>, <em>dtype=&lt;type 'float'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#random_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.random_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns numpy array of requested shape and type filled with random numbers in the range [0,255].</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.random_standard">
<code class="descclassname">NDArrGenerators.</code><code class="descname">random_standard</code><span class="sig-paren">(</span><em>shape=(40</em>, <em>60)</em>, <em>mu=200</em>, <em>sigma=25</em>, <em>dtype=&lt;type 'float'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#random_standard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.random_standard" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns numpy array of requested shape and type filled with normal distribution for mu and sigma.</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.random_xffffffff">
<code class="descclassname">NDArrGenerators.</code><code class="descname">random_xffffffff</code><span class="sig-paren">(</span><em>shape=(40</em>, <em>60)</em>, <em>dtype=&lt;type 'numpy.uint32'&gt;</em>, <em>add=4278190080</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#random_xffffffff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.random_xffffffff" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns numpy array of requested shape and type 
filled with random numbers in the range [0,0xffffff] with bits 0xff000000 for alpha mask.</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.reshape_to_2d">
<code class="descclassname">NDArrGenerators.</code><code class="descname">reshape_to_2d</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#reshape_to_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.reshape_to_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns n-d re-shaped to 2-d</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.reshape_to_3d">
<code class="descclassname">NDArrGenerators.</code><code class="descname">reshape_to_3d</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#reshape_to_3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.reshape_to_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns n-d re-shaped to 3-d</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.ring_intensity">
<code class="descclassname">NDArrGenerators.</code><code class="descname">ring_intensity</code><span class="sig-paren">(</span><em>r</em>, <em>r0</em>, <em>sigma</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#ring_intensity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.ring_intensity" title="Permalink to this definition">¶</a></dt>
<dd><p>returns numpy array with ring intensity distribution modulated by Gaussian(r-r0,sigma).
Parameters
———-
r : np.array - numpy array of radius (i.e. radios for each pixel) 
r0 : float - radius of the ring
sigma : float - width of the ring</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.shape_as_2d">
<code class="descclassname">NDArrGenerators.</code><code class="descname">shape_as_2d</code><span class="sig-paren">(</span><em>sh</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#shape_as_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.shape_as_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns 2-d shape for n-d shape if n&gt;2, otherwise returns unchanged shape.</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.shape_as_3d">
<code class="descclassname">NDArrGenerators.</code><code class="descname">shape_as_3d</code><span class="sig-paren">(</span><em>sh</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#shape_as_3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.shape_as_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns 3-d shape for n-d shape if n&gt;3, otherwise returns unchanged shape.</p>
</dd></dl>

<dl class="function">
<dt id="NDArrGenerators.size_from_shape">
<code class="descclassname">NDArrGenerators.</code><code class="descname">size_from_shape</code><span class="sig-paren">(</span><em>shape</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/NDArrGenerators.html#size_from_shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#NDArrGenerators.size_from_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns size from the shape sequence</p>
</dd></dl>

</div>
<span class="target" id="module-GlobalGraphics"></span><div class="section" id="globalgraphics-collection-of-global-graphical-methods">
<h2><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a> - collection of global graphical methods<a class="headerlink" href="#globalgraphics-collection-of-global-graphical-methods" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyimgalgos.GlobalGraphics</span> <span class="k">as</span> <span class="nn">gg</span>

<span class="c1"># Methods</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axim</span><span class="p">,</span> <span class="n">axcb</span> <span class="o">=</span> <span class="n">gg</span><span class="o">.</span><span class="n">fig_axes</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">12</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Image&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">win_axim</span><span class="o">=</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.87</span><span class="p">,</span> <span class="mf">0.93</span><span class="p">),</span> <span class="n">win_axcb</span><span class="o">=</span><span class="p">(</span><span class="mf">0.923</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.93</span><span class="p">))</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axim</span><span class="p">,</span> <span class="n">axcb</span><span class="p">,</span> <span class="n">imsh</span> <span class="o">=</span> <span class="n">gg</span><span class="o">.</span><span class="n">fig_axim_axcb_imsh</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">12</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Image&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">win_axim</span><span class="o">=</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.87</span><span class="p">,</span> <span class="mf">0.93</span><span class="p">),</span>
                        <span class="n">win_axcb</span><span class="o">=</span><span class="p">(</span><span class="mf">0.923</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.93</span><span class="p">),</span> <span class="n">arr2d</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;upper&#39;</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">plot_imgcb</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">axim</span><span class="p">,</span> <span class="n">axcb</span><span class="p">,</span> <span class="n">imsh</span><span class="p">,</span> <span class="n">arr2d</span><span class="p">,</span> <span class="n">amin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">amax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;upper&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">plot_img</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">amin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">amax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">plot_peaks_on_img</span><span class="p">(</span><span class="n">peaks</span><span class="p">,</span> <span class="n">axim</span><span class="p">,</span> <span class="n">iX</span><span class="p">,</span> <span class="n">iY</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">pbits</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">gg</span><span class="o">.</span><span class="n">size_of_shape</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">gg</span><span class="o">.</span><span class="n">getArrangedImage</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">60</span><span class="p">))</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">gg</span><span class="o">.</span><span class="n">getRandomImage</span><span class="p">(</span><span class="n">mu</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="mi">60</span><span class="p">))</span>
<span class="n">hi</span> <span class="o">=</span> <span class="n">gg</span><span class="o">.</span><span class="n">getImageAs2DHist</span><span class="p">(</span><span class="n">iX</span><span class="p">,</span><span class="n">iY</span><span class="p">,</span><span class="n">W</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">gg</span><span class="o">.</span><span class="n">getImageFromIndexArrays</span><span class="p">(</span><span class="n">iX</span><span class="p">,</span><span class="n">iY</span><span class="p">,</span><span class="n">W</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axhi</span><span class="p">,</span> <span class="n">hi</span> <span class="o">=</span> <span class="n">gg</span><span class="o">.</span><span class="n">plotHistogram</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">amp_range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">bins</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="p">(</span><span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.78</span><span class="p">,</span> <span class="mf">0.82</span><span class="p">))</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axhi</span><span class="p">,</span> <span class="n">hi</span> <span class="o">=</span> <span class="n">gg</span><span class="o">.</span><span class="n">hist1d</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">amp_range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">show_stat</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                          <span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">axwin</span><span class="o">=</span><span class="p">(</span><span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">,</span> <span class="mf">0.78</span><span class="p">,</span> <span class="mf">0.80</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
                          <span class="n">xlabel</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">titwin</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">axim</span> <span class="o">=</span> <span class="n">gg</span><span class="o">.</span><span class="n">plotImageLarge</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">img_range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">amp_range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Image&#39;</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;upper&#39;</span><span class="p">,</span> 
                         <span class="n">window</span><span class="o">=</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.94</span><span class="p">,</span> <span class="mf">0.94</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">plotImageAndSpectrum</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">amp_range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;inferno&#39;</span><span class="p">)</span> 
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">gg</span><span class="o">.</span><span class="n">plotGraph</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">window</span><span class="o">=</span><span class="p">(</span><span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.78</span><span class="p">,</span> <span class="mf">0.86</span><span class="p">),</span> <span class="n">pfmt</span><span class="o">=</span><span class="s1">&#39;b-&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">drawCircle</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">xy0</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">drawCircle</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">xy0</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">drawCenter</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">xy0</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">drawLine</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">xarr</span><span class="p">,</span> <span class="n">yarr</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">drawRectangle</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">xy</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="s1">&#39;img.png&#39;</span><span class="p">,</span> <span class="n">do_save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pbits</span><span class="o">=</span><span class="mi">0377</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">save_fig</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="s1">&#39;img.png&#39;</span><span class="p">,</span> <span class="n">do_save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pbits</span><span class="o">=</span><span class="mi">0377</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">x0</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span><span class="n">y0</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">move_fig</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">x0</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">gg</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a></li>
<li><a class="reference external" href="https://matplotlib.org/contents.html">matplotlib</a>.</li>
</ul>
</dd>
</dl>
<p>This software was developed for the SIT project.  If you use all or 
part of it, please give an appropriate acknowledgment.</p>
<p>Created in 2015 by Mikhail Dubrovin</p>
<dl class="function">
<dt id="GlobalGraphics.fig_axes">
<code class="descclassname">GlobalGraphics.</code><code class="descname">fig_axes</code><span class="sig-paren">(</span><em>figsize=(13</em>, <em>12)</em>, <em>title='Image'</em>, <em>dpi=80</em>, <em>win_axim=(0.05</em>, <em>0.03</em>, <em>0.87</em>, <em>0.93)</em>, <em>win_axcb=(0.923</em>, <em>0.03</em>, <em>0.02</em>, <em>0.93)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalGraphics.html#fig_axes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalGraphics.fig_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns figure, and axes for image and color bar</p>
</dd></dl>

<dl class="function">
<dt id="GlobalGraphics.fig_axim_axcb_imsh">
<code class="descclassname">GlobalGraphics.</code><code class="descname">fig_axim_axcb_imsh</code><span class="sig-paren">(</span><em>figsize=(13, 12), title='Image', dpi=80, win_axim=(0.05, 0.03, 0.87, 0.93), win_axcb=(0.923, 0.03, 0.02, 0.93), arr2d=array([[ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.],        [ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.]]), origin='upper'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalGraphics.html#fig_axim_axcb_imsh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalGraphics.fig_axim_axcb_imsh" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns figure, axes for image and color bar, imshow object</p>
</dd></dl>

<dl class="function">
<dt id="GlobalGraphics.getImageAs2DHist">
<code class="descclassname">GlobalGraphics.</code><code class="descname">getImageAs2DHist</code><span class="sig-paren">(</span><em>iX</em>, <em>iY</em>, <em>W=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalGraphics.html#getImageAs2DHist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalGraphics.getImageAs2DHist" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes image from iX, iY coordinate index arrays and associated weights, using np.histogram2d(…).</p>
</dd></dl>

<dl class="function">
<dt id="GlobalGraphics.getImageFromIndexArrays">
<code class="descclassname">GlobalGraphics.</code><code class="descname">getImageFromIndexArrays</code><span class="sig-paren">(</span><em>iX</em>, <em>iY</em>, <em>W=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalGraphics.html#getImageFromIndexArrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalGraphics.getImageFromIndexArrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes image from iX, iY coordinate index arrays and associated weights, using indexed array.</p>
</dd></dl>

<dl class="function">
<dt id="GlobalGraphics.hist1d">
<code class="descclassname">GlobalGraphics.</code><code class="descname">hist1d</code><span class="sig-paren">(</span><em>arr</em>, <em>bins=None</em>, <em>amp_range=None</em>, <em>weights=None</em>, <em>color=None</em>, <em>show_stat=True</em>, <em>log=False</em>, <em>figsize=(6</em>, <em>5)</em>, <em>axwin=(0.15</em>, <em>0.12</em>, <em>0.78</em>, <em>0.8)</em>, <em>title=None</em>, <em>xlabel=None</em>, <em>ylabel=None</em>, <em>titwin=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalGraphics.html#hist1d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalGraphics.hist1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes historgam from input array of values (arr), which are sorted in number of bins (bins) in the range (amp_range=(amin,amax))</p>
</dd></dl>

<dl class="function">
<dt id="GlobalGraphics.plotHistogram">
<code class="descclassname">GlobalGraphics.</code><code class="descname">plotHistogram</code><span class="sig-paren">(</span><em>arr</em>, <em>amp_range=None</em>, <em>figsize=(6</em>, <em>6)</em>, <em>bins=None</em>, <em>title=''</em>, <em>window=(0.15</em>, <em>0.1</em>, <em>0.78</em>, <em>0.82)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalGraphics.html#plotHistogram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalGraphics.plotHistogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes historgam from input array of values (arr), which are sorted in number of bins (bins) in the range (amp_range=(amin,amax))</p>
</dd></dl>

<dl class="function">
<dt id="GlobalGraphics.plot_peaks_on_img">
<code class="descclassname">GlobalGraphics.</code><code class="descname">plot_peaks_on_img</code><span class="sig-paren">(</span><em>peaks</em>, <em>axim</em>, <em>iX</em>, <em>iY</em>, <em>color='w'</em>, <em>pbits=0</em>, <em>lw=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalGraphics.html#plot_peaks_on_img"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalGraphics.plot_peaks_on_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws peaks on the top of image axes (axim)
Plots peaks from array as circles in coordinates of image.</p>
<ul class="simple">
<li>peaks - 2-d list/tuple of peaks; first 6 values in each peak record should be (s, r, c, amax, atot, npix)</li>
<li>axim - image axes</li>
<li>iX - array of x-coordinate indexes for all pixels addressed as [s, r, c] - segment, row, column</li>
<li>iX - array of y-coordinate indexes for all pixels addressed as [s, r, c] - segment, row, column</li>
<li>color - peak-ring color</li>
<li>pbits - verbosity; print 0 - nothing, +1 - peak parameters, +2 - x, y peak coordinate indexes</li>
</ul>
</dd></dl>

</div>
<span class="target" id="module-GlobalUtils"></span><div class="section" id="globalutils-contains-collection-of-global-utilities-with-a-single-call-algorithms">
<h2><a class="reference internal" href="#module-GlobalUtils" title="GlobalUtils"><code class="xref py py-class docutils literal"><span class="pre">GlobalUtils</span></code></a> contains collection of global utilities with a single call algorithms<a class="headerlink" href="#globalutils-contains-collection-of-global-utilities-with-a-single-call-algorithms" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Import</span>
<span class="c1"># ==============</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.GlobalUtils</span> <span class="k">import</span> <span class="n">subtract_bkgd</span><span class="p">,</span> <span class="n">mask_from_windows</span> <span class="c1">#, ...</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.NDArrGenerators</span> <span class="k">import</span> <span class="n">random_standard_array</span>

<span class="c1"># Background subtraction</span>
<span class="c1"># ======================</span>
<span class="c1"># Example for cspad, assuming all nda_*.shape = (32,185,388)</span>
<span class="n">winds_bkgd</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">270</span><span class="p">,</span> <span class="mi">370</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">28</span><span class="p">)]</span> <span class="c1"># use part of segments 4,12,20, and 28 to subtract bkgd</span>
<span class="n">nda</span> <span class="o">=</span> <span class="n">subtract_bkgd</span><span class="p">(</span><span class="n">nda_data</span><span class="p">,</span> <span class="n">nda_bkgd</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">nda_mask</span><span class="p">,</span> <span class="n">winds</span><span class="o">=</span><span class="n">winds_bkgd</span><span class="p">,</span> <span class="n">pbits</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Operations with numpy array shape</span>
<span class="c1"># =================================</span>
<span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">32</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">388</span><span class="p">)</span>
<span class="n">size</span> <span class="o">=</span> <span class="n">size_from_shape</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># returns 32*185*388   </span>
<span class="n">shape_2d</span> <span class="o">=</span> <span class="n">shape_as_2d</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># returns (32*185,388)</span>
<span class="n">arr_2d</span> <span class="o">=</span> <span class="n">reshape_to_2d</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>   <span class="c1"># returns re-shaped ndarray</span>

<span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">388</span><span class="p">)</span>
<span class="n">shape_3d</span> <span class="o">=</span> <span class="n">shape_as_3d</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># returns (32,185,388)</span>
<span class="n">arr_3d</span> <span class="o">=</span> <span class="n">reshape_to_3d</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>   <span class="c1"># returns re-shaped ndarray</span>

<span class="c1"># Make mask n-d numpy array using shape and windows</span>
<span class="c1"># =================================================</span>
<span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">388</span><span class="p">)</span>
<span class="n">w</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">winds</span> <span class="o">=</span> <span class="p">[(</span><span class="n">s</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mi">185</span><span class="o">-</span><span class="n">w</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="mi">388</span><span class="o">-</span><span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">mask_from_windows</span><span class="p">(</span><span class="n">shape</span><span class="p">,</span> <span class="n">winds</span><span class="p">)</span>

<span class="c1"># Make mask as 2,3-d numpy array for a few(width) rows/cols of pixels </span>
<span class="c1"># ===================================================================</span>
<span class="n">mask2d</span> <span class="o">=</span> <span class="n">mask_2darr_edges</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">185</span><span class="p">,</span><span class="mi">388</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">mask3d</span> <span class="o">=</span> <span class="n">mask_3darr_edges</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">388</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Make mask of local maximal intensity pixels in x-y (ignoring diagonals)</span>
<span class="c1"># ===================================================================</span>
<span class="c1"># works for 2-d and 3-d arrays only - reshape if needed.</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">random_standard_array</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">388</span><span class="p">),</span> <span class="n">mu</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">mask_xy_max</span> <span class="o">=</span> <span class="n">locxymax</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;clip&#39;</span><span class="p">)</span>

<span class="c1"># Get string with time stamp, ex: 2016-01-26T10:40:53</span>
<span class="c1"># ===================================================================</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">str_tstamp</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%S&#39;</span><span class="p">,</span> <span class="n">time_sec</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="c1"># Converters for Cheetah</span>
<span class="c1"># ======================</span>
<span class="n">runnum</span><span class="p">,</span> <span class="n">tstamp</span><span class="p">,</span> <span class="n">tsec</span><span class="p">,</span> <span class="n">fid</span> <span class="o">=</span> <span class="n">convertCheetahEventName</span><span class="p">(</span><span class="s1">&#39;LCLS_2015_Feb22_r0169_022047_197f7&#39;</span><span class="p">,</span> <span class="n">fmtts</span><span class="o">=</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">T%H:%M:%S&#39;</span><span class="p">)</span>

<span class="n">table8x8</span> <span class="o">=</span> <span class="n">table_from_cspad_ndarr</span><span class="p">(</span><span class="n">nda_cspad</span><span class="p">)</span> 
<span class="n">nda_cspad</span> <span class="o">=</span> <span class="n">cspad_ndarr_from_table</span><span class="p">(</span><span class="n">table8x8</span><span class="p">)</span>

<span class="n">nda_32x185x388</span> <span class="o">=</span> <span class="n">cspad_psana_from_cctbx</span><span class="p">(</span><span class="n">nda_64x185x194</span><span class="p">)</span>
<span class="n">nda_64x185x194</span> <span class="o">=</span> <span class="n">cspad_cctbx_from_psana</span><span class="p">(</span><span class="n">nda_32x185x388</span><span class="p">)</span>
<span class="n">cross_check_cspad_psana_cctbx</span><span class="p">(</span><span class="n">nda_32x185x388</span><span class="p">,</span> <span class="n">nda_64x185x194</span><span class="p">)</span>

<span class="c1"># Safe math</span>
<span class="c1"># =========</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">divide_protected</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">den</span><span class="p">,</span> <span class="n">vsub_zero</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Single line printed for np.array</span>
<span class="c1"># ================================</span>
<span class="n">print_ndarr</span><span class="p">(</span><span class="n">nda</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">first</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Save image in file</span>
<span class="c1"># ==================</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">random_standard</span><span class="p">()</span>
<span class="n">save_image_tiff</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="s1">&#39;image.tiff&#39;</span><span class="p">,</span> <span class="n">verb</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># 16-bit tiff</span>
<span class="n">save_image_file</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="s1">&#39;image.png&#39;</span><span class="p">,</span> <span class="n">verb</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># gif, pdf, eps, png, jpg, jpeg, tiff (8-bit only)</span>

<span class="c1"># Create directory</span>
<span class="c1"># ==================</span>
<span class="n">create_directory</span><span class="p">(</span><span class="s1">&#39;work-dir&#39;</span><span class="p">)</span>

<span class="c1"># Test</span>
<span class="c1"># ======================</span>
<span class="c1"># is implemented for test numbers from 1 to 9. Command example</span>
<span class="c1"># python pyimgalgos/src/GlobalUtils.py 1</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#module-GlobalUtils" title="GlobalUtils"><code class="xref py py-class docutils literal"><span class="pre">GlobalUtils</span></code></a></p>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<p>Created by Mikhail Dubrovin</p>
<dl class="class">
<dt id="GlobalUtils.Storage">
<em class="property">class </em><code class="descclassname">GlobalUtils.</code><code class="descname">Storage</code><a class="reference internal" href="_modules/GlobalUtils.html#Storage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.Storage" title="Permalink to this definition">¶</a></dt>
<dd><p>Store for shared parameters.</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.convertCheetahEventName">
<code class="descclassname">GlobalUtils.</code><code class="descname">convertCheetahEventName</code><span class="sig-paren">(</span><em>evname</em>, <em>fmtts='%Y-%m-%dT%H:%M:%S'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#convertCheetahEventName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.convertCheetahEventName" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts Cheetah event name like ‘LCLS_2015_Feb22_r0169_022047_197f7’
and returns runnum, tstamp, tsec, fid = 169, ‘2015-02-22T02:20:47’, &lt;tsec&gt;, 197f7</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.cross_check_cspad_psana_cctbx">
<code class="descclassname">GlobalUtils.</code><code class="descname">cross_check_cspad_psana_cctbx</code><span class="sig-paren">(</span><em>nda</em>, <em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#cross_check_cspad_psana_cctbx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.cross_check_cspad_psana_cctbx" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply two-way conversions between psana and cctbx cspad arrays and compare.</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.cspad_cctbx_from_psana">
<code class="descclassname">GlobalUtils.</code><code class="descname">cspad_cctbx_from_psana</code><span class="sig-paren">(</span><em>nda_in</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#cspad_cctbx_from_psana"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.cspad_cctbx_from_psana" title="Permalink to this definition">¶</a></dt>
<dd><p>returns cctbx array of ASICs (64, 185, 194) from cspad array (32, 185, 388)</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.cspad_ndarr_from_table">
<code class="descclassname">GlobalUtils.</code><code class="descname">cspad_ndarr_from_table</code><span class="sig-paren">(</span><em>table8x8</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#cspad_ndarr_from_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.cspad_ndarr_from_table" title="Permalink to this definition">¶</a></dt>
<dd><p>returns cspad array with shape=(32,185,388)
generated from table of 2x1s shaped as (8*185, 4*388) in style of Cheetah</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.cspad_ndarr_from_table8x8">
<code class="descclassname">GlobalUtils.</code><code class="descname">cspad_ndarr_from_table8x8</code><span class="sig-paren">(</span><em>table8x8</em><span class="sig-paren">)</span><a class="headerlink" href="#GlobalUtils.cspad_ndarr_from_table8x8" title="Permalink to this definition">¶</a></dt>
<dd><p>returns cspad array with shape=(32,185,388)
generated from table of 2x1s shaped as (8*185, 4*388) in style of Cheetah</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.cspad_psana_from_cctbx">
<code class="descclassname">GlobalUtils.</code><code class="descname">cspad_psana_from_cctbx</code><span class="sig-paren">(</span><em>nda_in</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#cspad_psana_from_cctbx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.cspad_psana_from_cctbx" title="Permalink to this definition">¶</a></dt>
<dd><p>returns cspad array (32, 185, 388) from cctbx array of ASICs (64, 185, 194)</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.divide_protected">
<code class="descclassname">GlobalUtils.</code><code class="descname">divide_protected</code><span class="sig-paren">(</span><em>num</em>, <em>den</em>, <em>vsub_zero=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#divide_protected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.divide_protected" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns result of devision of numpy arrays num/den with substitution of value vsub_zero for zero den elements.</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.list_of_windarr">
<code class="descclassname">GlobalUtils.</code><code class="descname">list_of_windarr</code><span class="sig-paren">(</span><em>nda</em>, <em>winds=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#list_of_windarr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.list_of_windarr" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts 2-d or 3-d numpy array in the list of 2-d numpy arrays for windows
&#64;param nda - input 2-d or 3-d numpy array</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.locxymax">
<code class="descclassname">GlobalUtils.</code><code class="descname">locxymax</code><span class="sig-paren">(</span><em>nda</em>, <em>order=1</em>, <em>mode='clip'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#locxymax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.locxymax" title="Permalink to this definition">¶</a></dt>
<dd><p>For 2-d or 3-d numpy array finds mask of local maxima in x and y axes (diagonals are ignored) 
using scipy.signal.argrelmax and return their product.</p>
<p>&#64;param nda - input ndarray
&#64;param order - range to search for local maxima along each dimension
&#64;param mode - parameter of scipy.signal.argrelmax of how to treat the boarder</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.mask_2darr_edges">
<code class="descclassname">GlobalUtils.</code><code class="descname">mask_2darr_edges</code><span class="sig-paren">(</span><em>shape=(185</em>, <em>388)</em>, <em>width=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#mask_2darr_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.mask_2darr_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns mask with masked width rows/colunms of edge pixels for 2-d numpy array.</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.mask_3darr_edges">
<code class="descclassname">GlobalUtils.</code><code class="descname">mask_3darr_edges</code><span class="sig-paren">(</span><em>shape=(32</em>, <em>185</em>, <em>388)</em>, <em>width=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#mask_3darr_edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.mask_3darr_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns mask with masked width rows/colunms of edge pixels for 3-d numpy array.</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.mask_from_windows">
<code class="descclassname">GlobalUtils.</code><code class="descname">mask_from_windows</code><span class="sig-paren">(</span><em>ashape=(32</em>, <em>185</em>, <em>388)</em>, <em>winds=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#mask_from_windows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.mask_from_windows" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes mask as 2-d or 3-d numpy array defined by the shape with ones in windows.
N-d shape for N&gt;3 is converted to 3-d.
&#64;param shape - shape of the output numpy array with mask.
&#64;param winds - list of windows, each window is a sequence of 5 parameters (segment, rowmin, rowmax, colmin, colmax)</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.mean_of_listwarr">
<code class="descclassname">GlobalUtils.</code><code class="descname">mean_of_listwarr</code><span class="sig-paren">(</span><em>lst_warr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#mean_of_listwarr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.mean_of_listwarr" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates the mean value of the list of 2-d arrays.
&#64;lst_warr - list of numpy arrays to evaluate per pixel mean intensity value.</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.print_command_line_parameters">
<code class="descclassname">GlobalUtils.</code><code class="descname">print_command_line_parameters</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#print_command_line_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.print_command_line_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints input arguments and optional parameters</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.reshape_to_2d">
<code class="descclassname">GlobalUtils.</code><code class="descname">reshape_to_2d</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#reshape_to_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.reshape_to_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns n-d re-shaped to 2-d</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.reshape_to_3d">
<code class="descclassname">GlobalUtils.</code><code class="descname">reshape_to_3d</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#reshape_to_3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.reshape_to_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns n-d re-shaped to 3-d</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.save_image_file">
<code class="descclassname">GlobalUtils.</code><code class="descname">save_image_file</code><span class="sig-paren">(</span><em>image</em>, <em>fname='image.png'</em>, <em>verb=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#save_image_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.save_image_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves files with type by extension gif, pdf, eps, png, jpg, jpeg, tiff (8-bit only),
or txt for any other type</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.save_image_tiff">
<code class="descclassname">GlobalUtils.</code><code class="descname">save_image_tiff</code><span class="sig-paren">(</span><em>image</em>, <em>fname='image.tiff'</em>, <em>verb=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#save_image_tiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.save_image_tiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves image in 16-bit tiff file</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.shape_as_2d">
<code class="descclassname">GlobalUtils.</code><code class="descname">shape_as_2d</code><span class="sig-paren">(</span><em>sh</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#shape_as_2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.shape_as_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns 2-d shape for n-d shape if n&gt;2, otherwise returns unchanged shape.</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.shape_as_3d">
<code class="descclassname">GlobalUtils.</code><code class="descname">shape_as_3d</code><span class="sig-paren">(</span><em>sh</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#shape_as_3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.shape_as_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns 3-d shape for n-d shape if n&gt;3, otherwise returns unchanged shape.</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.size_from_shape">
<code class="descclassname">GlobalUtils.</code><code class="descname">size_from_shape</code><span class="sig-paren">(</span><em>shape</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#size_from_shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.size_from_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns size from the shape sequence</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.src_from_rc8x8">
<code class="descclassname">GlobalUtils.</code><code class="descname">src_from_rc8x8</code><span class="sig-paren">(</span><em>row</em>, <em>col</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#src_from_rc8x8"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.src_from_rc8x8" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts Cheetah 8x8 ASICs table row and column to seg, row, col coordinates</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.str_tstamp">
<code class="descclassname">GlobalUtils.</code><code class="descname">str_tstamp</code><span class="sig-paren">(</span><em>fmt='%Y-%m-%dT%H:%M:%S'</em>, <em>time_sec=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#str_tstamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.str_tstamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns string timestamp for specified format and time in sec or current time by default</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.subtract_bkgd">
<code class="descclassname">GlobalUtils.</code><code class="descname">subtract_bkgd</code><span class="sig-paren">(</span><em>data</em>, <em>bkgd</em>, <em>mask=None</em>, <em>winds=None</em>, <em>pbits=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#subtract_bkgd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.subtract_bkgd" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtracts numpy array of bkgd from data using normalization in windows for good pixels in mask.
Shapes of data, bkgd, and mask numpy arrays should be the same.
Each window is specified by 5 parameters: (segment, rowmin, rowmax, colmin, colmax)
For 2-d arrays segment index is not used, but still 5 parameters needs to be specified.</p>
<p>Parameters</p>
<ul class="simple">
<li>data - numpy array for data.</li>
<li>bkgd - numpy array for background.</li>
<li>mask - numpy array for mask.</li>
<li>winds - list of windows, each window is a sequence of 5 parameters.</li>
<li>pbits - print control bits; =0 - print nothing, !=0 - normalization factor.</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.table8x8_from_cspad_ndarr">
<code class="descclassname">GlobalUtils.</code><code class="descname">table8x8_from_cspad_ndarr</code><span class="sig-paren">(</span><em>nda_cspad</em><span class="sig-paren">)</span><a class="headerlink" href="#GlobalUtils.table8x8_from_cspad_ndarr" title="Permalink to this definition">¶</a></dt>
<dd><p>returns table of 2x1s shaped as (8*185, 4*388) in style of Cheetah
generated from cspad array with size=(32*185*388) ordered as in data, shape does not matter.</p>
</dd></dl>

<dl class="function">
<dt id="GlobalUtils.table_from_cspad_ndarr">
<code class="descclassname">GlobalUtils.</code><code class="descname">table_from_cspad_ndarr</code><span class="sig-paren">(</span><em>nda_cspad</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/GlobalUtils.html#table_from_cspad_ndarr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GlobalUtils.table_from_cspad_ndarr" title="Permalink to this definition">¶</a></dt>
<dd><p>returns table of 2x1s shaped as (8*185, 4*388) in style of Cheetah
generated from cspad array with size=(32*185*388) ordered as in data, shape does not matter.</p>
</dd></dl>

</div>
<span class="target" id="module-Graphics"></span><div class="section" id="graphics-wrapping-methods-for-matplotlib">
<h2><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a> wrapping methods for matplotlib<a class="headerlink" href="#graphics-wrapping-methods-for-matplotlib" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyimgalgos.Graphics</span> <span class="k">as</span> <span class="nn">gr</span>

<span class="c1"># Methods</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">12</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Image&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">move</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">gr</span><span class="o">.</span><span class="n">move_fig</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">x0</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">gr</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">x0</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">gr</span><span class="o">.</span><span class="n">add_axes</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">axwin</span><span class="o">=</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.87</span><span class="p">,</span> <span class="mf">0.93</span><span class="p">))</span>
<span class="n">gr</span><span class="o">.</span><span class="n">fig_img_cbar_axes</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">win_axim</span><span class="o">=</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span>  <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.87</span><span class="p">,</span> <span class="mf">0.93</span><span class="p">),</span> <span class="n">win_axcb</span><span class="o">=</span><span class="p">(</span><span class="mf">0.923</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.93</span><span class="p">))</span>
<span class="n">gr</span><span class="o">.</span><span class="n">set_win_title</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">titwin</span><span class="o">=</span><span class="s1">&#39;Image&#39;</span><span class="p">)</span>
<span class="n">gr</span><span class="o">.</span><span class="n">add_title_labels_to_axes</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fslab</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fstit</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="n">gr</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">gr</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">gr</span><span class="o">.</span><span class="n">draw_fig</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
<span class="n">gr</span><span class="o">.</span><span class="n">save_plt</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="s1">&#39;img.png&#39;</span><span class="p">,</span> <span class="n">verb</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">gr</span><span class="o">.</span><span class="n">save_fig</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="s1">&#39;img.png&#39;</span><span class="p">,</span> <span class="n">verb</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">hi</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">axhi</span><span class="p">,</span> <span class="n">arr</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">amp_range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">imsh</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">axim</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">amp_range</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;upper&#39;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
<span class="n">cbar</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">imsh</span><span class="p">,</span> <span class="n">axcb</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">,</span> <span class="n">amp_range</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">imsh</span><span class="p">,</span> <span class="n">cbar</span> <span class="o">=</span> <span class="n">gr</span><span class="o">.</span><span class="n">imshow_cbar</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">axim</span><span class="p">,</span> <span class="n">axcb</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">amin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">amax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;upper&#39;</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;inferno&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a></li>
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrSpectrum" title="NDArrSpectrum"><code class="xref py py-class docutils literal"><span class="pre">NDArrSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Radial+background+subtraction+algorithm">Radial background</a>.</li>
<li><a class="reference external" href="https://matplotlib.org/contents.html">matplotlib</a>.</li>
</ul>
</dd>
</dl>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<p>Created in 2015 by Mikhail Dubrovin</p>
<dl class="function">
<dt id="Graphics.add_axes">
<code class="descclassname">Graphics.</code><code class="descname">add_axes</code><span class="sig-paren">(</span><em>fig</em>, <em>axwin=(0.05</em>, <em>0.03</em>, <em>0.87</em>, <em>0.93)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#add_axes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.add_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Add axes to figure from input list of windows.</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.colorbar">
<code class="descclassname">Graphics.</code><code class="descname">colorbar</code><span class="sig-paren">(</span><em>fig</em>, <em>imsh</em>, <em>axcb</em>, <em>orientation='vertical'</em>, <em>amp_range=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#colorbar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.colorbar" title="Permalink to this definition">¶</a></dt>
<dd><p>orientation = ‘horizontal’
amp_range = (-10,50)</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.fig_img_axes">
<code class="descclassname">Graphics.</code><code class="descname">fig_img_axes</code><span class="sig-paren">(</span><em>fig=None</em>, <em>win_axim=(0.08</em>, <em>0.05</em>, <em>0.89</em>, <em>0.93)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#fig_img_axes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.fig_img_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns figure and image axes</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.fig_img_cbar_axes">
<code class="descclassname">Graphics.</code><code class="descname">fig_img_cbar_axes</code><span class="sig-paren">(</span><em>fig=None</em>, <em>win_axim=(0.05</em>, <em>0.03</em>, <em>0.87</em>, <em>0.93)</em>, <em>win_axcb=(0.923</em>, <em>0.03</em>, <em>0.02</em>, <em>0.93)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#fig_img_cbar_axes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.fig_img_cbar_axes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns figure and axes for image and color bar</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.figure">
<code class="descclassname">Graphics.</code><code class="descname">figure</code><span class="sig-paren">(</span><em>figsize=(13</em>, <em>12)</em>, <em>title='Image'</em>, <em>dpi=80</em>, <em>facecolor='w'</em>, <em>edgecolor='w'</em>, <em>frameon=True</em>, <em>move=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#figure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.figure" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns figure</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.hist">
<code class="descclassname">Graphics.</code><code class="descname">hist</code><span class="sig-paren">(</span><em>axhi</em>, <em>arr</em>, <em>bins=None</em>, <em>amp_range=None</em>, <em>weights=None</em>, <em>color=None</em>, <em>log=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#hist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes historgam from input array of values (arr), which are sorted in number of bins (bins) in the range (amp_range=(amin,amax))</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.imshow">
<code class="descclassname">Graphics.</code><code class="descname">imshow</code><span class="sig-paren">(</span><em>axim</em>, <em>img</em>, <em>amp_range=None</em>, <em>extent=None</em>, <em>interpolation='nearest'</em>, <em>aspect='auto'</em>, <em>origin='upper'</em>, <em>orientation='horizontal'</em>, <em>cmap='inferno'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#imshow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.imshow" title="Permalink to this definition">¶</a></dt>
<dd><p>extent - list of four image physical limits for labeling,
cmap: ‘jet’, ‘gray_r’, ‘inferno’
#axim.cla()</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.imshow_cbar">
<code class="descclassname">Graphics.</code><code class="descname">imshow_cbar</code><span class="sig-paren">(</span><em>fig</em>, <em>axim</em>, <em>axcb</em>, <em>img</em>, <em>amin=None</em>, <em>amax=None</em>, <em>extent=None</em>, <em>interpolation='nearest'</em>, <em>aspect='auto'</em>, <em>origin='upper'</em>, <em>orientation='vertical'</em>, <em>cmap='inferno'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#imshow_cbar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.imshow_cbar" title="Permalink to this definition">¶</a></dt>
<dd><p>extent - list of four image physical limits for labeling,
cmap: ‘gray_r’
#axim.cla()</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.test01">
<code class="descclassname">Graphics.</code><code class="descname">test01</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#test01"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.test01" title="Permalink to this definition">¶</a></dt>
<dd><p>imshow</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.test02">
<code class="descclassname">Graphics.</code><code class="descname">test02</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#test02"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.test02" title="Permalink to this definition">¶</a></dt>
<dd><p>hist</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.test03">
<code class="descclassname">Graphics.</code><code class="descname">test03</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#test03"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.test03" title="Permalink to this definition">¶</a></dt>
<dd><p>Update image in the event loop</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.test04">
<code class="descclassname">Graphics.</code><code class="descname">test04</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#test04"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.test04" title="Permalink to this definition">¶</a></dt>
<dd><p>Update histogram in the event loop</p>
</dd></dl>

<dl class="function">
<dt id="Graphics.test05">
<code class="descclassname">Graphics.</code><code class="descname">test05</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Graphics.html#test05"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Graphics.test05" title="Permalink to this definition">¶</a></dt>
<dd><p>Update image with color bar in the event loop</p>
</dd></dl>

</div>
<span class="target" id="module-HBins"></span><div class="section" id="class-hbins-histogram-style-bin-parameters-holder">
<h2>Class <a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a> histogram-style bin parameters holder<a class="headerlink" href="#class-hbins-histogram-style-bin-parameters-holder" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyimgalgos.HBins</span> <span class="k">import</span> <span class="n">HBins</span>

<span class="c1"># Equal bins constructor</span>
<span class="n">hb</span> <span class="o">=</span> <span class="n">HBins</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">nbins</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Variable bins constructor</span>
<span class="n">hb</span> <span class="o">=</span> <span class="n">HBins</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>

<span class="c1"># Access methods</span>
<span class="n">nbins</span>         <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">nbins</span><span class="p">()</span>         <span class="c1"># returns int input parameter - number of bins</span>
<span class="n">edges</span>         <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">edges</span><span class="p">()</span>         <span class="c1"># returns np.array input list of bin edges</span>
<span class="n">vmin</span>          <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">vmin</span><span class="p">()</span>          <span class="c1"># returns vtype minimal value of bin edges</span>
<span class="n">vmax</span>          <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">vmax</span><span class="p">()</span>          <span class="c1"># returns vtype maximal value of bin edges</span>
<span class="n">vtype</span>         <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">vtype</span><span class="p">()</span>         <span class="c1"># returns np.dtype - type of bin edge values </span>
<span class="n">equalbins</span>     <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">equalbins</span><span class="p">()</span>     <span class="c1"># returns bool True/False for equal/variable size bins </span>

<span class="n">limits</span>        <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">limits</span><span class="p">()</span>        <span class="c1"># returns np.array of limits (vmin, vmax)</span>
<span class="n">binedges</span>      <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">binedges</span><span class="p">()</span>      <span class="c1"># returns np.array with bin edges of size nbins+1 </span>
<span class="n">binedgesleft</span>  <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">binedgesleft</span><span class="p">()</span>  <span class="c1"># returns np.array with bin left edges of size nbins</span>
<span class="n">binedgesright</span> <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">binedgesright</span><span class="p">()</span> <span class="c1"># returns np.array with bin rignt edges of size nbins</span>
<span class="n">bincenters</span>    <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">bincenters</span><span class="p">()</span>    <span class="c1"># returns np.array with bin centers of size nbins</span>
<span class="n">binwidth</span>      <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">binwidth</span><span class="p">()</span>      <span class="c1"># returns np.array with bin widths of size nbins or scalar bin width for equal bins</span>
<span class="n">halfbinw</span>      <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">halfbinw</span><span class="p">()</span>      <span class="c1"># returns np.array with half-bin widths of size nbins or scalar bin half-width for equal bins</span>
<span class="n">strrange</span>      <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">strrange</span><span class="p">(</span><span class="n">fmt</span><span class="p">)</span>   <span class="c1"># returns str of formatted vmin, vmax, nbins ex: 1-6-5</span>

<span class="n">ind</span>     <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">bin_index</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">edgemode</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>    <span class="c1"># returns bin index [0,nbins) for value. </span>
<span class="n">indarr</span>  <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">bin_indexes</span><span class="p">(</span><span class="n">valarr</span><span class="p">,</span> <span class="n">edgemode</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># returns array of bin index [0,nbins) for array of values</span>
<span class="n">hisarr</span>  <span class="o">=</span> <span class="n">hb</span><span class="o">.</span><span class="n">bin_count</span><span class="p">(</span><span class="n">valarr</span><span class="p">,</span> <span class="n">edgemode</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>   <span class="c1"># returns array of bin counts [0,nbins) for array of values (histogram value per bin)</span>
<span class="c1"># edgemode - defines what to do with underflow overflow indexes;</span>
<span class="c1">#          = 0 - use indexes  0 and nbins-1 for underflow overflow, respectively</span>
<span class="c1">#          = 1 - use extended indexes -1 and nbins for underflow overflow, respectively</span>

<span class="n">hb</span><span class="o">.</span><span class="n">set_bin_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span> <span class="c1"># adds bin data to the HBins object. data size should be equal to hb.nbins()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">bin_data</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>       <span class="c1"># returns numpy array of data associated with HBins object.</span>

<span class="c1"># Print methods</span>
<span class="n">hb</span><span class="o">.</span><span class="n">print_attrs_defined</span><span class="p">()</span>
<span class="n">hb</span><span class="o">.</span><span class="n">print_attrs</span><span class="p">()</span>
<span class="n">hb</span><span class="o">.</span><span class="n">print_attrs_and_methods</span><span class="p">()</span>
</pre></div>
</div>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrSpectrum" title="NDArrSpectrum"><code class="xref py py-class docutils literal"><span class="pre">NDArrSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Radial+background+subtraction+algorithm">Radial background</a>.</li>
</ul>
</dd>
</dl>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<p>Created on 2016-01-15 by Mikhail Dubrovin</p>
<dl class="class">
<dt id="HBins.HBins">
<em class="property">class </em><code class="descclassname">HBins.</code><code class="descname">HBins</code><span class="sig-paren">(</span><em>edges</em>, <em>nbins=None</em>, <em>vtype=&lt;type 'numpy.float32'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins" title="Permalink to this definition">¶</a></dt>
<dd><p>Hystogram-style bin parameters holder</p>
<dl class="method">
<dt id="HBins.HBins.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>edges</em>, <em>nbins=None</em>, <em>vtype=&lt;type 'numpy.float32'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Class constructor for
- equal bins,       ex: hb = HBins((1,6), nbins=5)
- or variable bins, ex: hb = HBins((1,2,4,6,10))</p>
<p>Parameters:
- edges - sequence of two or more bin edges
- nbins - (int) number of bins for equal size bins
- vtype - numpy type of bin values (optional parameter)</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.bin_index">
<code class="descname">bin_index</code><span class="sig-paren">(</span><em>v</em>, <em>edgemode=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.bin_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.bin_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns bin index for scalar value</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.bincenters">
<code class="descname">bincenters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.bincenters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.bincenters" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns np.array of nbins values of bin centers</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.binedges">
<code class="descname">binedges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.binedges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.binedges" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns np.array of nbins+1 values of bin edges</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.binedgesleft">
<code class="descname">binedgesleft</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.binedgesleft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.binedgesleft" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns np.array of nbins values of bin left edges</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.binedgesright">
<code class="descname">binedgesright</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.binedgesright"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.binedgesright" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns np.array of nbins values of bin right edges</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.binwidth">
<code class="descname">binwidth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.binwidth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.binwidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns np.array of nbins values of bin widths</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.edges">
<code class="descname">edges</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.edges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns input sequence of edges</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.halfbinw">
<code class="descname">halfbinw</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.halfbinw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.halfbinw" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns np.array of nbins values of bin half-widths</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.limits">
<code class="descname">limits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.limits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.limits" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns np.array of two ordered limits (vmin, vmax)</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.nbins">
<code class="descname">nbins</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.nbins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.nbins" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns number of bins</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.strrange">
<code class="descname">strrange</code><span class="sig-paren">(</span><em>fmt='%.0f-%.0f-%d'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.strrange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.strrange" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns string of range parameters</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.vmax">
<code class="descname">vmax</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.vmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.vmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns miximal value of the range</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.vmin">
<code class="descname">vmin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.vmin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.vmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns minimal value of the range</p>
</dd></dl>

<dl class="method">
<dt id="HBins.HBins.vtype">
<code class="descname">vtype</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/HBins.html#HBins.vtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HBins.HBins.vtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns npumpy datatype for bin values</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-HPolar"></span><div class="section" id="class-hpolar-makes-2-d-histogram-in-polar-r-phi-coordinates-for-imaging-detector-n-d-array-data">
<h2>Class <a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a> - makes 2-d histogram in polar (r-phi) coordinates for imaging detector n-d array data<a class="headerlink" href="#class-hpolar-makes-2-d-histogram-in-polar-r-phi-coordinates-for-imaging-detector-n-d-array-data" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Import</span>
<span class="c1"># ------</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.HPolar</span> <span class="k">import</span> <span class="n">HPolar</span>

<span class="c1"># Initialization</span>
<span class="c1"># --------------</span>
<span class="n">hp</span> <span class="o">=</span> <span class="n">HPolar</span><span class="p">(</span><span class="n">xarr</span><span class="p">,</span> <span class="n">yarr</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">radedges</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nradbins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">phiedges</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">360</span><span class="p">),</span> <span class="n">nphibins</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span>

<span class="c1"># Access methods</span>
<span class="c1"># --------------</span>
<span class="n">orb</span>   <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">obj_radbins</span><span class="p">()</span> <span class="c1"># returns HBins object for radial bins</span>
<span class="n">opb</span>   <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">obj_phibins</span><span class="p">()</span> <span class="c1"># returns HBins object for angular bins</span>
<span class="n">rad</span>   <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">pixel_rad</span><span class="p">()</span>
<span class="n">irad</span>  <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">pixel_irad</span><span class="p">()</span>
<span class="n">phi0</span>  <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">pixel_phi0</span><span class="p">()</span>
<span class="n">phi</span>   <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">pixel_phi</span><span class="p">()</span>
<span class="n">iphi</span>  <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">pixel_iphi</span><span class="p">()</span>
<span class="n">iseq</span>  <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">pixel_iseq</span><span class="p">()</span>
<span class="n">npix</span>  <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">bin_number_of_pixels</span><span class="p">()</span>
<span class="nb">int</span>   <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">bin_intensity</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>
<span class="n">arr1d</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">bin_avrg</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>
<span class="n">arr2d</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">bin_avrg_rad_phi</span><span class="p">(</span><span class="n">nda</span><span class="p">,</span> <span class="n">do_transp</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pixav</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">pixel_avrg</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>
<span class="n">pixav</span> <span class="o">=</span> <span class="n">hp</span><span class="o">.</span><span class="n">pixel_avrg_interpol</span><span class="p">(</span><span class="n">nda</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span> <span class="c1"># method=&#39;nearest&#39; &#39;cubic&#39;</span>

<span class="c1"># Print attributes and n-d arrays</span>
<span class="c1"># -------------------------------</span>
<span class="n">hp</span><span class="o">.</span><span class="n">print_attrs</span><span class="p">()</span>
<span class="n">hp</span><span class="o">.</span><span class="n">print_ndarrs</span><span class="p">()</span>

<span class="c1"># Global methods</span>
<span class="c1"># --------------</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.HPolar</span> <span class="k">import</span> <span class="n">polarization_factor</span><span class="p">,</span> <span class="n">divide_protected</span><span class="p">,</span> <span class="n">cart2polar</span><span class="p">,</span> <span class="n">polar2cart</span><span class="p">,</span> <span class="n">bincount</span>

<span class="n">polf</span> <span class="o">=</span> <span class="n">polarization_factor</span><span class="p">(</span><span class="n">rad</span><span class="p">,</span> <span class="n">phi</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">divide_protected</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">den</span><span class="p">,</span> <span class="n">vsub_zero</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">r</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="n">cart2polar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">polar2cart</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span>
<span class="n">bin_values</span> <span class="o">=</span> <span class="n">bincount</span><span class="p">(</span><span class="n">map_bins</span><span class="p">,</span> <span class="n">map_weights</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrSpectrum" title="NDArrSpectrum"><code class="xref py py-class docutils literal"><span class="pre">NDArrSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Radial+background+subtraction+algorithm">Radial background</a>.</li>
</ul>
</dd>
</dl>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<p>Created in 2015 by Mikhail Dubrovin</p>
<dl class="function">
<dt id="HPolar.bincount">
<code class="descclassname">HPolar.</code><code class="descname">bincount</code><span class="sig-paren">(</span><em>map_bins</em>, <em>map_weights=None</em>, <em>length=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HPolar.html#bincount"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HPolar.bincount" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for numpy.bincount with protection of weights and alattening numpy arrays</p>
</dd></dl>

<dl class="function">
<dt id="HPolar.cart2polar">
<code class="descclassname">HPolar.</code><code class="descname">cart2polar</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HPolar.html#cart2polar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HPolar.cart2polar" title="Permalink to this definition">¶</a></dt>
<dd><p>For numpy arrays x and y returns the numpy arrays of r and theta</p>
</dd></dl>

<dl class="function">
<dt id="HPolar.data_geo">
<code class="descclassname">HPolar.</code><code class="descname">data_geo</code><span class="sig-paren">(</span><em>ntest</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HPolar.html#data_geo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HPolar.data_geo" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for tests: returns test data numpy array and geometry object</p>
</dd></dl>

<dl class="function">
<dt id="HPolar.divide_protected">
<code class="descclassname">HPolar.</code><code class="descname">divide_protected</code><span class="sig-paren">(</span><em>num</em>, <em>den</em>, <em>vsub_zero=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HPolar.html#divide_protected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HPolar.divide_protected" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns result of devision of numpy arrays num/den with substitution of value vsub_zero for zero den elements.</p>
</dd></dl>

<dl class="function">
<dt id="HPolar.polar2cart">
<code class="descclassname">HPolar.</code><code class="descname">polar2cart</code><span class="sig-paren">(</span><em>r</em>, <em>theta</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HPolar.html#polar2cart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HPolar.polar2cart" title="Permalink to this definition">¶</a></dt>
<dd><p>For numpy arryys r and theta returns the numpy arrays of x and y</p>
</dd></dl>

<dl class="function">
<dt id="HPolar.polarization_factor">
<code class="descclassname">HPolar.</code><code class="descname">polarization_factor</code><span class="sig-paren">(</span><em>rad</em>, <em>phi_deg</em>, <em>z</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HPolar.html#polarization_factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HPolar.polarization_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns per-pixel polarization factors, assuming that detector is perpendicular to Z.</p>
</dd></dl>

<dl class="function">
<dt id="HPolar.test01">
<code class="descclassname">HPolar.</code><code class="descname">test01</code><span class="sig-paren">(</span><em>ntest</em>, <em>prefix='fig-v01'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HPolar.html#test01"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HPolar.test01" title="Permalink to this definition">¶</a></dt>
<dd><p>Test for radial 1-d binning of entire image.</p>
</dd></dl>

<dl class="function">
<dt id="HPolar.test02">
<code class="descclassname">HPolar.</code><code class="descname">test02</code><span class="sig-paren">(</span><em>ntest</em>, <em>prefix='fig-v01'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HPolar.html#test02"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HPolar.test02" title="Permalink to this definition">¶</a></dt>
<dd><p>Test for 2-d (default) binning of the rad-phi range of entire image</p>
</dd></dl>

<dl class="function">
<dt id="HPolar.test03">
<code class="descclassname">HPolar.</code><code class="descname">test03</code><span class="sig-paren">(</span><em>ntest</em>, <em>prefix='fig-v01'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HPolar.html#test03"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HPolar.test03" title="Permalink to this definition">¶</a></dt>
<dd><p>Test for 2-d binning of the restricted rad-phi range of entire image</p>
</dd></dl>

</div>
<span class="target" id="module-HSpectrum"></span><div class="section" id="class-hspectrum-works-with-spectral-histogram-for-arbitrary-shaped-numpy-array">
<h2>Class <a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a> works with spectral histogram for arbitrary shaped numpy array<a class="headerlink" href="#class-hspectrum-works-with-spectral-histogram-for-arbitrary-shaped-numpy-array" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Import</span>
<span class="c1"># ==============</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.HSpectrum</span> <span class="k">import</span> <span class="n">HSpectrum</span>

<span class="c1"># Initialization</span>
<span class="c1"># ==============</span>
<span class="c1"># 1) for bins of equal size:</span>
<span class="nb">range</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="p">)</span>
<span class="n">nbins</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">spec</span> <span class="o">=</span> <span class="n">HSpectrum</span><span class="p">(</span><span class="nb">range</span><span class="p">,</span> <span class="n">nbins</span><span class="p">)</span>

<span class="c1"># 2) for variable size bins:</span>
<span class="n">bins</span> <span class="o">=</span> <span class="p">(</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v4</span><span class="p">,</span> <span class="n">v5</span><span class="p">,</span> <span class="n">vN</span><span class="p">)</span> <span class="c1"># any number of bin edges</span>
<span class="n">spec</span> <span class="o">=</span> <span class="n">HSpectrum</span><span class="p">(</span><span class="n">bins</span><span class="p">)</span>

<span class="c1"># Fill spectrum</span>
<span class="c1"># ==============</span>
<span class="c1"># nda = ... (get it for each event somehow)</span>
<span class="n">spec</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>

<span class="c1"># Get spectrum</span>
<span class="c1"># ==============</span>
<span class="n">histarr</span><span class="p">,</span> <span class="n">edges</span><span class="p">,</span> <span class="n">nbins</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">spectrum</span><span class="p">()</span>

<span class="c1"># Optional</span>
<span class="c1"># ==============</span>
<span class="n">spec</span><span class="o">.</span><span class="n">print_attrs</span><span class="p">()</span>
</pre></div>
</div>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrSpectrum" title="NDArrSpectrum"><code class="xref py py-class docutils literal"><span class="pre">NDArrSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Radial+background+subtraction+algorithm">Radial background</a>.</li>
</ul>
</dd>
</dl>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<p>Created in 2015 by Mikhail Dubrovin</p>
<dl class="function">
<dt id="HSpectrum.random_standard_array">
<code class="descclassname">HSpectrum.</code><code class="descname">random_standard_array</code><span class="sig-paren">(</span><em>shape=(185</em>, <em>388)</em>, <em>mu=50</em>, <em>sigma=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/HSpectrum.html#random_standard_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSpectrum.random_standard_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns n-d array of specified shape with random intensities generated for Gaussian parameters.</p>
</dd></dl>

</div>
<span class="target" id="module-NDArrSpectrum"></span><p><a class="reference internal" href="#module-NDArrSpectrum" title="NDArrSpectrum"><code class="xref py py-class docutils literal"><span class="pre">NDArrSpectrum</span></code></a> - ALIAS FOR HSpectrum - support creation of spectral histogram for arbitrary shaped numpy array.</p>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Import</span>
<span class="c1"># ==============</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.NDArrSpectrum</span> <span class="k">import</span> <span class="n">NDArrSpectrum</span>


<span class="c1"># Initialization</span>
<span class="c1"># ==============</span>
<span class="c1"># 1) for bins of equal size:</span>
<span class="nb">range</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span><span class="p">)</span>
<span class="n">nbins</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">spec</span> <span class="o">=</span> <span class="n">NDArrSpectrum</span><span class="p">(</span><span class="nb">range</span><span class="p">,</span> <span class="n">nbins</span><span class="p">)</span>

<span class="c1"># 2) for variable size bins:</span>
<span class="n">bins</span> <span class="o">=</span> <span class="p">(</span><span class="n">v0</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v4</span><span class="p">,</span> <span class="n">v5</span><span class="p">,</span> <span class="n">vN</span><span class="p">)</span> <span class="c1"># any number of bin edges</span>
<span class="n">spec</span> <span class="o">=</span> <span class="n">NDArrSpectrum</span><span class="p">(</span><span class="n">bins</span><span class="p">)</span>


<span class="c1"># Fill spectrum</span>
<span class="c1"># ==============</span>
<span class="c1"># nda = ... (get it for each event somehow)</span>
<span class="n">spec</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>


<span class="c1"># Get spectrum</span>
<span class="c1"># ==============</span>
<span class="n">histarr</span><span class="p">,</span> <span class="n">edges</span><span class="p">,</span> <span class="n">nbins</span> <span class="o">=</span> <span class="n">spec</span><span class="o">.</span><span class="n">spectrum</span><span class="p">()</span>


<span class="c1"># Optional</span>
<span class="c1"># ==============</span>
<span class="n">spec</span><span class="o">.</span><span class="n">print_attrs</span><span class="p">()</span>
</pre></div>
</div>
<p>&#64;see <code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.HSpectrum</span></code>,
<code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.HBins</span></code>
<code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.HPolar</span></code></p>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<p>Revision: $Revision$</p>
<p>&#64;version $Id$</p>
<p>&#64;author Mikhail S. Dubrovin</p>
<span class="target" id="module-RadialBkgd"></span><dl class="docutils">
<dt><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a> - radial background subtraction for imaging detector n-d array data,</dt>
<dd>extension of the base class <a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a> for methods subtract_bkgd and subtract_bkgd_interpol.</dd>
</dl>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Import</span>
<span class="c1"># ------</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.RadialBkgd</span> <span class="k">import</span> <span class="n">RadialBkgd</span>

<span class="c1"># Initialization</span>
<span class="c1"># --------------</span>
<span class="n">rb</span> <span class="o">=</span> <span class="n">RadialBkgd</span><span class="p">(</span><span class="n">xarr</span><span class="p">,</span> <span class="n">yarr</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">radedges</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nradbins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">phiedges</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">360</span><span class="p">),</span> <span class="n">nphibins</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span>

<span class="c1"># Access methods</span>
<span class="c1"># --------------</span>
<span class="n">orb</span>   <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">obj_radbins</span><span class="p">()</span> <span class="c1"># returns HBins object for radial bins</span>
<span class="n">opb</span>   <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">obj_phibins</span><span class="p">()</span> <span class="c1"># returns HBins object for angular bins</span>
<span class="n">rad</span>   <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">pixel_rad</span><span class="p">()</span>
<span class="n">irad</span>  <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">pixel_irad</span><span class="p">()</span>
<span class="n">phi0</span>  <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">pixel_phi0</span><span class="p">()</span>
<span class="n">phi</span>   <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">pixel_phi</span><span class="p">()</span>
<span class="n">iphi</span>  <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">pixel_iphi</span><span class="p">()</span>
<span class="n">iseq</span>  <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">pixel_iseq</span><span class="p">()</span>
<span class="n">npix</span>  <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">bin_number_of_pixels</span><span class="p">()</span>
<span class="nb">int</span>   <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">bin_intensity</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>
<span class="n">arr1d</span> <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">bin_avrg</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>
<span class="n">arr2d</span> <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">bin_avrg_rad_phi</span><span class="p">(</span><span class="n">nda</span><span class="p">,</span> <span class="n">do_transp</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pixav</span> <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">pixel_avrg</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>
<span class="n">pixav</span> <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">pixel_avrg_interpol</span><span class="p">(</span><span class="n">nda</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span> <span class="c1"># method=&#39;nearest&#39; &#39;cubic&#39;</span>
<span class="n">cdata</span> <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">subtract_bkgd</span><span class="p">(</span><span class="n">nda</span><span class="p">)</span>
<span class="n">cdata</span> <span class="o">=</span> <span class="n">rb</span><span class="o">.</span><span class="n">subtract_bkgd_interpol</span><span class="p">(</span><span class="n">nda</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span>

<span class="c1"># Print attributes and n-d arrays</span>
<span class="c1"># -------------------------------</span>
<span class="n">rb</span><span class="o">.</span><span class="n">print_attrs</span><span class="p">()</span>
<span class="n">rb</span><span class="o">.</span><span class="n">print_ndarrs</span><span class="p">()</span>

<span class="c1"># Global methods</span>
<span class="c1"># --------------</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.RadialBkgd</span> <span class="k">import</span> <span class="n">polarization_factor</span><span class="p">,</span> <span class="n">divide_protected</span><span class="p">,</span> <span class="n">cart2polar</span><span class="p">,</span> <span class="n">polar2cart</span><span class="p">,</span> <span class="n">bincount</span>

<span class="n">polf</span> <span class="o">=</span> <span class="n">polarization_factor</span><span class="p">(</span><span class="n">rad</span><span class="p">,</span> <span class="n">phi</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">divide_protected</span><span class="p">(</span><span class="n">num</span><span class="p">,</span> <span class="n">den</span><span class="p">,</span> <span class="n">vsub_zero</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">r</span><span class="p">,</span> <span class="n">theta</span> <span class="o">=</span> <span class="n">cart2polar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">polar2cart</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">theta</span><span class="p">)</span>
<span class="n">bin_values</span> <span class="o">=</span> <span class="n">bincount</span><span class="p">(</span><span class="n">map_bins</span><span class="p">,</span> <span class="n">map_weights</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>&#64;see <code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.HPolar</span></code>
<code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.HBins</span></code>
See <a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Radial+background+subtraction+algorithm">Radial background</a>.
<code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.HSpectrum</span></code></p>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<p>Revision: $Revision$</p>
<p>&#64;version $Id$</p>
<p>&#64;author Mikhail S. Dubrovin</p>
<dl class="function">
<dt id="RadialBkgd.data_geo">
<code class="descclassname">RadialBkgd.</code><code class="descname">data_geo</code><span class="sig-paren">(</span><em>ntest</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/RadialBkgd.html#data_geo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#RadialBkgd.data_geo" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns test data numpy array and geometry object</p>
</dd></dl>

<dl class="function">
<dt id="RadialBkgd.test01">
<code class="descclassname">RadialBkgd.</code><code class="descname">test01</code><span class="sig-paren">(</span><em>ntest</em>, <em>prefix='fig-v01'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/RadialBkgd.html#test01"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#RadialBkgd.test01" title="Permalink to this definition">¶</a></dt>
<dd><p>Test for radial 1-d binning of entire image.</p>
</dd></dl>

<dl class="function">
<dt id="RadialBkgd.test02">
<code class="descclassname">RadialBkgd.</code><code class="descname">test02</code><span class="sig-paren">(</span><em>ntest</em>, <em>prefix='fig-v01'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/RadialBkgd.html#test02"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#RadialBkgd.test02" title="Permalink to this definition">¶</a></dt>
<dd><p>Test for 2-d (default) binning of the rad-phi range of entire image</p>
</dd></dl>

<dl class="function">
<dt id="RadialBkgd.test03">
<code class="descclassname">RadialBkgd.</code><code class="descname">test03</code><span class="sig-paren">(</span><em>ntest</em>, <em>prefix='fig-v01'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/RadialBkgd.html#test03"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#RadialBkgd.test03" title="Permalink to this definition">¶</a></dt>
<dd><p>Test for 2-d binning of the restricted rad-phi range of entire image</p>
</dd></dl>

<span class="target" id="module-PeakData"></span><span class="target" id="module-PeakStore"></span><p>Class helps to save text file with information about peaks found in peak-finders.</p>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Imports</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.PeakStore</span> <span class="k">import</span> <span class="n">PeakStore</span>

<span class="c1"># Usage with psana types env and evt</span>

<span class="n">pstore</span> <span class="o">=</span> <span class="n">PeakStore</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">add_header</span><span class="o">=</span><span class="s1">&#39;TitV1 TitV2 TitV3 ...&#39;</span><span class="p">,</span> <span class="n">pbits</span><span class="o">=</span><span class="mi">255</span><span class="p">)</span>
<span class="k">for</span> <span class="n">peak</span> <span class="ow">in</span> <span class="n">peaks</span> <span class="p">:</span>
    <span class="n">rec</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%d</span><span class="s1"> </span><span class="si">%f</span><span class="s1"> ...&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">peak</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">peak</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">peak</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span><span class="o">...</span><span class="p">)</span>
    <span class="n">pstore</span><span class="o">.</span><span class="n">save_peak</span><span class="p">(</span><span class="n">evt</span><span class="p">,</span> <span class="n">rec</span><span class="p">)</span>
<span class="n">pstore</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> <span class="c1"># is done by default in destructor</span>


<span class="c1"># Usage without psana types</span>

<span class="n">pstore</span> <span class="o">=</span> <span class="n">PeakStore</span><span class="p">(</span><span class="s1">&#39;expNNNNN&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">add_header</span><span class="o">=</span><span class="s1">&#39;TitV1 TitV2 TitV3 ...&#39;</span><span class="p">,</span> <span class="n">pbits</span><span class="o">=</span><span class="mi">255</span><span class="p">)</span>
<span class="k">for</span> <span class="n">peak</span> <span class="ow">in</span> <span class="n">peaks</span> <span class="p">:</span>
    <span class="n">rec</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%d</span><span class="s1"> </span><span class="si">%f</span><span class="s1"> ...&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">peak</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">peak</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">peak</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span><span class="o">...</span><span class="p">)</span>
    <span class="n">pstore</span><span class="o">.</span><span class="n">save_peak</span><span class="p">(</span><span class="n">peak_rec</span><span class="o">=</span><span class="n">rec</span><span class="p">)</span>

<span class="c1"># Print methods</span>
<span class="n">pstore</span><span class="o">.</span><span class="n">print_attrs</span><span class="p">()</span>
</pre></div>
</div>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<p>&#64;version $Id$</p>
<p>&#64;author Mikhail S. Dubrovin</p>
<span class="target" id="module-Quaternion"></span><div class="section" id="class-quaternion-works-with-quaternion-rotations">
<h2>Class <a class="reference internal" href="#module-Quaternion" title="Quaternion"><code class="xref py py-class docutils literal"><span class="pre">Quaternion</span></code></a> works with quaternion rotations<a class="headerlink" href="#class-quaternion-works-with-quaternion-rotations" title="Permalink to this headline">¶</a></h2>
<p>This software was developed in co-operation with Meng for analysis of data cxif5315.</p>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalUtils" title="GlobalUtils"><code class="xref py py-class docutils literal"><span class="pre">GlobalUtils</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a></li>
<li><a class="reference internal" href="#module-Quaternion" title="Quaternion"><code class="xref py py-class docutils literal"><span class="pre">Quaternion</span></code></a></li>
<li><a class="reference internal" href="#module-FiberAngles" title="FiberAngles"><code class="xref py py-class docutils literal"><span class="pre">FiberAngles</span></code></a></li>
<li><a class="reference internal" href="#module-FiberIndexing" title="FiberIndexing"><code class="xref py py-class docutils literal"><span class="pre">FiberIndexing</span></code></a></li>
<li><a class="reference internal" href="#module-PeakData" title="PeakData"><code class="xref py py-class docutils literal"><span class="pre">PeakData</span></code></a></li>
<li><a class="reference internal" href="#module-PeakStore" title="PeakStore"><code class="xref py py-class docutils literal"><span class="pre">PeakStore</span></code></a></li>
<li><a class="reference internal" href="#module-TDCheetahPeakRecord" title="TDCheetahPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDCheetahPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDFileContainer" title="TDFileContainer"><code class="xref py py-class docutils literal"><span class="pre">TDFileContainer</span></code></a></li>
<li><a class="reference internal" href="#module-TDGroup" title="TDGroup"><code class="xref py py-class docutils literal"><span class="pre">TDGroup</span></code></a></li>
<li><a class="reference internal" href="#module-TDMatchRecord" title="TDMatchRecord"><code class="xref py py-class docutils literal"><span class="pre">TDMatchRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDNodeRecord" title="TDNodeRecord"><code class="xref py py-class docutils literal"><span class="pre">TDNodeRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDPeakRecord" title="TDPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Analysis+of+data+for+cxif5315">Analysis of data for cxif5315</a>.</li>
</ul>
</dd>
</dl>
<p>Created in April 2016 by Mikhail Dubrovin</p>
<dl class="function">
<dt id="Quaternion.normalise_quaternion">
<code class="descclassname">Quaternion.</code><code class="descname">normalise_quaternion</code><span class="sig-paren">(</span><em>q</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Quaternion.html#normalise_quaternion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Quaternion.normalise_quaternion" title="Permalink to this definition">¶</a></dt>
<dd><p>q - quaternion</p>
<p>Rescales the quaternion such that its modulus is unity.</p>
<p>Returns: the normalised version of q</p>
</dd></dl>

<dl class="function">
<dt id="Quaternion.quat_rot">
<code class="descclassname">Quaternion.</code><code class="descname">quat_rot</code><span class="sig-paren">(</span><em>v</em>, <em>q</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Quaternion.html#quat_rot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Quaternion.quat_rot" title="Permalink to this definition">¶</a></dt>
<dd><p>v - vector (in the form of a “struct rvec”) 
q - quaternion</p>
<p>Rotates a vector according to a quaternion.</p>
<p>Returns: rotated vector vrot</p>
</dd></dl>

<dl class="function">
<dt id="Quaternion.quaternion_for_angles">
<code class="descclassname">Quaternion.</code><code class="descname">quaternion_for_angles</code><span class="sig-paren">(</span><em>ax</em>, <em>ay</em>, <em>az</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Quaternion.html#quaternion_for_angles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Quaternion.quaternion_for_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns: quaternion for three input rotation angles [deg].</p>
</dd></dl>

<dl class="function">
<dt id="Quaternion.quaternion_from_rotmatrix">
<code class="descclassname">Quaternion.</code><code class="descname">quaternion_from_rotmatrix</code><span class="sig-paren">(</span><em>m</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Quaternion.html#quaternion_from_rotmatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Quaternion.quaternion_from_rotmatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>m - 3-d rotation matrix, class Matrix</p>
<p>Evaluates quaternion from rotation matrix.
Implemented as
<a class="reference external" href="https://en.wikipedia.org/wiki/Rotation_matrix">https://en.wikipedia.org/wiki/Rotation_matrix</a></p>
<p>Returns: normalised quaternion.</p>
</dd></dl>

<dl class="function">
<dt id="Quaternion.quaternion_modulus">
<code class="descclassname">Quaternion.</code><code class="descname">quaternion_modulus</code><span class="sig-paren">(</span><em>q</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Quaternion.html#quaternion_modulus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Quaternion.quaternion_modulus" title="Permalink to this definition">¶</a></dt>
<dd><p>q - quaternion</p>
<p>If a quaternion represents a pure rotation, its modulus should be unity.
Returns: the modulus of the given quaternion.</p>
</dd></dl>

<dl class="function">
<dt id="Quaternion.quaternion_valid">
<code class="descclassname">Quaternion.</code><code class="descname">quaternion_valid</code><span class="sig-paren">(</span><em>q</em>, <em>tol=0.001</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Quaternion.html#quaternion_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Quaternion.quaternion_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>q - quaternion</p>
<p>Checks if the given quaternion is normalised.</p>
<p>Returns: 1 if the quaternion is normalised, 0 if not.</p>
</dd></dl>

<dl class="function">
<dt id="Quaternion.random_quaternion">
<code class="descclassname">Quaternion.</code><code class="descname">random_quaternion</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/Quaternion.html#random_quaternion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Quaternion.random_quaternion" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns: a randomly generated, normalised, quaternion</p>
</dd></dl>

<dl class="function">
<dt id="Quaternion.record_for_angles">
<code class="descclassname">Quaternion.</code><code class="descname">record_for_angles</code><span class="sig-paren">(</span><em>ax</em>, <em>ay</em>, <em>az</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Quaternion.html#record_for_angles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Quaternion.record_for_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints string like:
Angles around x,y,z:    72.0    -3.5   176.4   quaternion: w,x,y,z:   0.007459   0.043148   0.586445   0.808804</p>
</dd></dl>

<dl class="function">
<dt id="Quaternion.rotmatrix_from_quaternion">
<code class="descclassname">Quaternion.</code><code class="descname">rotmatrix_from_quaternion</code><span class="sig-paren">(</span><em>q</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Quaternion.html#rotmatrix_from_quaternion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Quaternion.rotmatrix_from_quaternion" title="Permalink to this definition">¶</a></dt>
<dd><p>q - quaternion</p>
<p>Evaluates rotation matrix from quaternion.</p>
<p>Returns: rotation matrix as an object Matrix</p>
</dd></dl>

<dl class="function">
<dt id="Quaternion.sin_cos">
<code class="descclassname">Quaternion.</code><code class="descname">sin_cos</code><span class="sig-paren">(</span><em>angle_deg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Quaternion.html#sin_cos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Quaternion.sin_cos" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns sin and cos of angle_deg</p>
</dd></dl>

</div>
<span class="target" id="module-Entropy"></span><div class="section" id="entropy-py-collection-of-methods-to-evaluate-data-array-entropy">
<h2><code class="xref py py-class docutils literal"><span class="pre">Entropy.py</span></code> - collection of methods to evaluate data array entropy<a class="headerlink" href="#entropy-py-collection-of-methods-to-evaluate-data-array-entropy" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Import</span>
<span class="c1"># ==============</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.Entropy</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># import for test only</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.NDArrGenerators</span> <span class="k">import</span> <span class="n">random_standard</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.GlobalUtils</span> <span class="k">import</span> <span class="n">print_ndarr</span>

<span class="n">arr_float</span> <span class="o">=</span> <span class="n">random_standard</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span> <span class="n">mu</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
<span class="n">arr_int16</span> <span class="o">=</span> <span class="n">arr_float</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">)</span>  
<span class="n">print_ndarr</span><span class="p">(</span><span class="n">arr_int16</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;arr_int16&#39;</span><span class="p">,</span> <span class="n">first</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">last</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="nb">print</span> <span class="s1">&#39;entropy(arr_int16)     = </span><span class="si">%.6f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">entropy</span><span class="p">(</span><span class="n">arr_int16</span><span class="p">)</span>
<span class="nb">print</span> <span class="s1">&#39;entropy_v1(arr_int16)  = </span><span class="si">%.6f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">entropy_v1</span><span class="p">(</span><span class="n">arr_int16</span><span class="p">)</span>
<span class="nb">print</span> <span class="s1">&#39;entropy_cpo(arr_int16) = </span><span class="si">%.6f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">entropy_cpo</span><span class="p">(</span><span class="n">arr_int16</span><span class="p">)</span>
</pre></div>
</div>
<p>See <code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.GlobalUtils</span></code></p>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<p>Created by Mikhail Dubrovin</p>
<dl class="function">
<dt id="Entropy.entropy">
<code class="descclassname">Entropy.</code><code class="descname">entropy</code><span class="sig-paren">(</span><em>nda</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Entropy.html#entropy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Entropy.entropy" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluates n-d array entropy using formula from <a class="reference external" href="https://en.wikipedia.org/wiki/Entropy_%28information_theory%29">https://en.wikipedia.org/wiki/Entropy_%28information_theory%29</a></p>
</dd></dl>

<dl class="function">
<dt id="Entropy.entropy_cpo">
<code class="descclassname">Entropy.</code><code class="descname">entropy_cpo</code><span class="sig-paren">(</span><em>signal</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Entropy.html#entropy_cpo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Entropy.entropy_cpo" title="Permalink to this definition">¶</a></dt>
<dd><p>Entropy evaluation method found by cpo on web</p>
<p>Function returns entropy of a signal, which is 1-D numpy array</p>
</dd></dl>

<dl class="function">
<dt id="Entropy.entropy_v1">
<code class="descclassname">Entropy.</code><code class="descname">entropy_v1</code><span class="sig-paren">(</span><em>nda</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Entropy.html#entropy_v1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Entropy.entropy_v1" title="Permalink to this definition">¶</a></dt>
<dd><p>The same as entropy(nda) in a single place.</p>
</dd></dl>

<dl class="function">
<dt id="Entropy.hist_probabilities">
<code class="descclassname">Entropy.</code><code class="descname">hist_probabilities</code><span class="sig-paren">(</span><em>nda</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Entropy.html#hist_probabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Entropy.hist_probabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns histogram-array of probabilities for each of (u)int16, uint8 intensity</p>
</dd></dl>

<dl class="function">
<dt id="Entropy.hist_values">
<code class="descclassname">Entropy.</code><code class="descname">hist_values</code><span class="sig-paren">(</span><em>nda</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/Entropy.html#hist_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Entropy.hist_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Depending on nda.dtype fills/returns 1-D 2^8(16)-bin histogram-array of 8(16)-bit values of input n-d array</p>
</dd></dl>

</div>
<span class="target" id="module-TDFileContainer"></span><div class="section" id="tdfilecontainer-text-table-data-file-container-load-hold-provide-access-to-data-from-text-file">
<h2><a class="reference internal" href="#module-TDFileContainer" title="TDFileContainer"><code class="xref py py-class docutils literal"><span class="pre">TDFileContainer</span></code></a> - text/table data file container - load/hold/provide access to data from text file<a class="headerlink" href="#tdfilecontainer-text-table-data-file-container-load-hold-provide-access-to-data-from-text-file" title="Permalink to this headline">¶</a></h2>
<p>It is assumed that text data file contains records of the same format and occasionally record-header
beginning with character # (hash in [0] position).
Example of the file content:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Exp     Run  Date       Time      time(sec)   time(nsec) fiduc  Evnum  Reg  Seg  Row  Col  ...</span>
<span class="n">cxif5315</span>  <span class="mi">169</span>  <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">47</span>  <span class="mi">1424600447</span>  <span class="mi">486382070</span>  <span class="mi">104421</span>     <span class="mi">0</span>  <span class="n">EQU</span>   <span class="mi">17</span>  <span class="mi">153</span>   <span class="mi">48</span>  <span class="o">...</span>
<span class="n">cxif5315</span>  <span class="mi">169</span>  <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">47</span>  <span class="mi">1424600447</span>  <span class="mi">494719789</span>  <span class="mi">104424</span>     <span class="mi">1</span>  <span class="n">EQU</span>    <span class="mi">1</span>  <span class="mi">161</span>   <span class="mi">32</span>  <span class="o">...</span>
<span class="n">cxif5315</span>  <span class="mi">169</span>  <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">47</span>  <span class="mi">1424600447</span>  <span class="mi">494719789</span>  <span class="mi">104424</span>     <span class="mi">1</span>  <span class="n">EQU</span>   <span class="mi">17</span>  <span class="mi">170</span>   <span class="mi">51</span>  <span class="o">...</span>
<span class="n">cxif5315</span>  <span class="mi">169</span>  <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">47</span>  <span class="mi">1424600447</span>  <span class="mi">503058551</span>  <span class="mi">104427</span>     <span class="mi">2</span>  <span class="n">EQU</span>   <span class="mi">25</span>  <span class="mi">170</span>  <span class="mi">310</span>  <span class="o">...</span>
<span class="n">cxif5315</span>  <span class="mi">169</span>  <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">47</span>  <span class="mi">1424600447</span>  <span class="mi">503058551</span>  <span class="mi">104427</span>     <span class="mi">2</span>  <span class="n">EQU</span>   <span class="mi">25</span>  <span class="mi">180</span>  <span class="mi">292</span>  <span class="o">...</span>
<span class="n">cxif5315</span>  <span class="mi">169</span>  <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">47</span>  <span class="mi">1424600447</span>  <span class="mi">511393301</span>  <span class="mi">104430</span>     <span class="mi">3</span>  <span class="n">EQU</span>    <span class="mi">1</span>  <span class="mi">162</span>   <span class="mi">27</span>  <span class="o">...</span>
<span class="n">cxif5315</span>  <span class="mi">169</span>  <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">47</span>  <span class="mi">1424600447</span>  <span class="mi">536405573</span>  <span class="mi">104439</span>     <span class="mi">6</span>  <span class="n">ARC</span>    <span class="mi">8</span>   <span class="mi">11</span>   <span class="mi">41</span>  <span class="o">...</span>
<span class="n">cxif5315</span>  <span class="mi">169</span>  <span class="mi">2015</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">22</span> <span class="mi">02</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">47</span>  <span class="mi">1424600447</span>  <span class="mi">536405573</span>  <span class="mi">104439</span>     <span class="mi">6</span>  <span class="n">ARC</span>    <span class="mi">8</span>   <span class="mi">10</span>   <span class="mi">20</span>  <span class="o">...</span>
<span class="o">...</span>
</pre></div>
</div>
<p>Header (without #) should have the same as data number of literal fields separated by spaces.
Records in the file should be grupped by unique group-id parameter,
for example a group of records may have the same group number or some unique index.</p>
<p>Originaly it is designed to work with text file containing record data generated by peak-finder.
It is adopted to work with any other object type beside peak data.</p>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># !!! NOTE: None is returned whenever requested information is missing.</span>

<span class="c1"># Import</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.TDFileContainer</span>     <span class="k">import</span> <span class="n">TDFileContainer</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.TDPeakRecord</span>        <span class="k">import</span> <span class="n">TDPeakRecord</span> <span class="c1"># use it by default in TDFileContainer</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.TDNodeRecord</span>        <span class="k">import</span> <span class="n">TDNodeRecord</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.TDCheetahPeakRecord</span> <span class="k">import</span> <span class="n">TDCheetahPeakRecord</span>

<span class="c1"># Initialization</span>
<span class="c1"># for peakfinder records</span>
<span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;/reg/neh/home1/dubrovin/LCLS/rel-mengning/work/pfv2-cxif5315-r0169-2015-09-14T14:28:04.txt&#39;</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">TDFileContainer</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">indhdr</span><span class="o">=</span><span class="s1">&#39;Evnum&#39;</span><span class="p">,</span> <span class="n">objtype</span><span class="o">=</span><span class="n">TDPeakRecord</span><span class="p">,</span> <span class="n">pbits</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># for index table:</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">TDFileContainer</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">indhdr</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">objtype</span><span class="o">=</span><span class="n">TDNodeRecord</span><span class="p">)</span>

<span class="c1"># for Cheetah file with peaks:</span>
<span class="n">fc</span> <span class="o">=</span> <span class="n">TDFileContainer</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">indhdr</span><span class="o">=</span><span class="s1">&#39;frameNumber&#39;</span><span class="p">,</span> <span class="n">objtype</span><span class="o">=</span><span class="n">TDCheetahPeakRecord</span><span class="p">)</span>

<span class="n">gr_nums</span> <span class="o">=</span> <span class="n">fc</span><span class="o">.</span><span class="n">group_numbers</span><span class="p">()</span>
<span class="n">ngrps</span>   <span class="o">=</span> <span class="n">fc</span><span class="o">.</span><span class="n">number_of_groups</span><span class="p">()</span>
<span class="n">grnum</span>   <span class="o">=</span> <span class="n">fc</span><span class="o">.</span><span class="n">current_group_number</span><span class="p">()</span>

<span class="n">gr_curr</span> <span class="o">=</span> <span class="n">fc</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="n">grpnum</span><span class="p">)</span> <span class="c1"># returns current or specified group</span>
<span class="n">gr_next</span> <span class="o">=</span> <span class="n">fc</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>        <span class="c1"># returns next group</span>
<span class="n">gr_prev</span> <span class="o">=</span> <span class="n">fc</span><span class="o">.</span><span class="n">previous</span><span class="p">()</span>    <span class="c1"># returns previous group</span>
<span class="n">hdr</span>     <span class="o">=</span> <span class="n">fc</span><span class="o">.</span><span class="n">header</span><span class="p">()</span>        

<span class="c1"># Print</span>
<span class="n">fc</span><span class="o">.</span><span class="n">print_attrs</span><span class="p">()</span>
<span class="n">fc</span><span class="o">.</span><span class="n">print_content</span><span class="p">(</span><span class="n">nlines</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="c1"># prints nline (or all by default) lines from file conteiner</span>

<span class="c1"># ____________________________________</span>

<span class="c1"># Example of iterations over groups</span>
<span class="k">for</span> <span class="n">grnum</span> <span class="ow">in</span> <span class="n">fc</span><span class="o">.</span><span class="n">group_num_iterator</span><span class="p">()</span> <span class="p">:</span>
    <span class="n">group</span> <span class="o">=</span> <span class="n">fc</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
    <span class="n">group</span><span class="o">.</span><span class="n">print_attrs</span><span class="p">()</span>
    <span class="n">peaks</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">get_objs</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">pk</span> <span class="ow">in</span> <span class="n">peaks</span> <span class="p">:</span>
        <span class="n">pk</span><span class="o">.</span><span class="n">print_short</span><span class="p">()</span>

        <span class="c1"># Information available through the TDPeakRecord object pk</span>
        <span class="c1"># ________________________________________________________</span>
        <span class="c1"># pk.exp, pk.run, pk.evnum, pk.reg</span>
        <span class="c1"># pk.date, pk.time, pk.tsec, pk.tnsec, pk.fid</span>
        <span class="c1"># pk.seg, pk.row, pk.col, pk.amax, pk.atot, pk.npix</span>
        <span class="c1"># pk.rcent, pk.ccent, pk.rsigma, pk.csigma</span>
        <span class="c1"># pk.rmin, pk.rmax, pk.cmin, pk.cmax</span>
        <span class="c1"># pk.bkgd, pk.rms, pk.son</span>
        <span class="c1"># pk.imrow, pk.imcol</span>
        <span class="c1"># pk.x, pk.y, pk.r, pk.phi</span>
        <span class="c1"># pk.sonc</span>
        <span class="c1"># pk.dphi000</span>
        <span class="c1"># pk.dphi180</span>
        <span class="c1"># pk.line</span>

<span class="c1"># Example of direct access to group by its number</span>
<span class="n">grpnum</span> <span class="o">=</span> <span class="mi">8</span> <span class="c1"># but grpnum is not necessaraly conecutive number, it should be in fc.group_num_iterator() ...</span>
<span class="n">group</span> <span class="o">=</span> <span class="n">fc</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="n">grpnum</span><span class="p">)</span> <span class="c1"># returns current or specified group</span>
<span class="n">group</span><span class="o">.</span><span class="n">print_attrs</span><span class="p">()</span>
</pre></div>
</div>
<p>This software was developed for the LCLS project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<dl class="docutils">
<dt>See classes:</dt>
<dd><ul class="first last simple">
<li><code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.TDFileContainer</span></code> - file records container.</li>
<li><code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.TDGroup</span></code> - holds a list of records associated with a single group.</li>
<li><code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.TDPeakRecord</span></code> - provides access to the peak record.</li>
<li><code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.TDNodeRecord</span></code> - provides access to the look-up table with crystal orientation record.</li>
<li><code class="xref py py-class docutils literal"><span class="pre">pyimgalgos.TDCheetahPeakRecord</span></code> - provides access to the Cheetah peak record.</li>
</ul>
</dd>
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalUtils" title="GlobalUtils"><code class="xref py py-class docutils literal"><span class="pre">GlobalUtils</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a></li>
<li><a class="reference internal" href="#module-Quaternion" title="Quaternion"><code class="xref py py-class docutils literal"><span class="pre">Quaternion</span></code></a></li>
<li><a class="reference internal" href="#module-FiberAngles" title="FiberAngles"><code class="xref py py-class docutils literal"><span class="pre">FiberAngles</span></code></a></li>
<li><a class="reference internal" href="#module-FiberIndexing" title="FiberIndexing"><code class="xref py py-class docutils literal"><span class="pre">FiberIndexing</span></code></a></li>
<li><a class="reference internal" href="#module-PeakData" title="PeakData"><code class="xref py py-class docutils literal"><span class="pre">PeakData</span></code></a></li>
<li><a class="reference internal" href="#module-PeakStore" title="PeakStore"><code class="xref py py-class docutils literal"><span class="pre">PeakStore</span></code></a></li>
<li><a class="reference internal" href="#module-TDCheetahPeakRecord" title="TDCheetahPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDCheetahPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDFileContainer" title="TDFileContainer"><code class="xref py py-class docutils literal"><span class="pre">TDFileContainer</span></code></a></li>
<li><a class="reference internal" href="#module-TDGroup" title="TDGroup"><code class="xref py py-class docutils literal"><span class="pre">TDGroup</span></code></a></li>
<li><a class="reference internal" href="#module-TDMatchRecord" title="TDMatchRecord"><code class="xref py py-class docutils literal"><span class="pre">TDMatchRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDNodeRecord" title="TDNodeRecord"><code class="xref py py-class docutils literal"><span class="pre">TDNodeRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDPeakRecord" title="TDPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Analysis+of+data+for+cxif5315">Analysis of data for cxif5315</a>.</li>
</ul>
</dd>
</dl>
<p>Created in 2015 by Mikhail Dubrovin</p>
<dl class="class">
<dt id="TDFileContainer.TDFileContainer">
<em class="property">class </em><code class="descclassname">TDFileContainer.</code><code class="descname">TDFileContainer</code><span class="sig-paren">(</span><em>fname</em>, <em>indhdr='Evnum'</em>, <em>objtype=&lt;class pyimgalgos.TDPeakRecord.TDPeakRecord&gt;</em>, <em>pbits=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Load and hold record list from file and provide access by group index</p>
<dl class="method">
<dt id="TDFileContainer.TDFileContainer.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias to group_num_iterator()</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.__del__">
<code class="descname">__del__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.__del__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.__del__" title="Permalink to this definition">¶</a></dt>
<dd><p>d-tor</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>fname</em>, <em>indhdr='Evnum'</em>, <em>objtype=&lt;class pyimgalgos.TDPeakRecord.TDPeakRecord&gt;</em>, <em>pbits=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor
Args:
fname   (str) - text table data file name 
indhdr  (str) - header of the field used for group indexing
objtype (TD*Recor) - object type used for data record processing/access
pbits   (int) - print control bit-word; pbits &amp; 256 - tracking</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.current_event_number">
<code class="descname">current_event_number</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.current_event_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.current_event_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Depricated, see current_group_number()</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.current_group_number">
<code class="descname">current_group_number</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.current_group_number"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.current_group_number" title="Permalink to this definition">¶</a></dt>
<dd><p>returns current group number</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.event">
<code class="descname">event</code><span class="sig-paren">(</span><em>evnum=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.event" title="Permalink to this definition">¶</a></dt>
<dd><p>Depricated, see group(evnum)</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.event_numbers">
<code class="descname">event_numbers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.event_numbers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.event_numbers" title="Permalink to this definition">¶</a></dt>
<dd><p>Depricated, see group_numbers()</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.evnum_iterator">
<code class="descname">evnum_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.evnum_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.evnum_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Depricated, see group_num_iterator()</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.group">
<code class="descname">group</code><span class="sig-paren">(</span><em>grnum=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.group" title="Permalink to this definition">¶</a></dt>
<dd><p>returns current or specified group</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.group_num_iterator">
<code class="descname">group_num_iterator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.group_num_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.group_num_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>resets indexes to the beginning of arrays and returns list of group numbers</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.group_numbers">
<code class="descname">group_numbers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.group_numbers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.group_numbers" title="Permalink to this definition">¶</a></dt>
<dd><p>returns list of group numbers in the file</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.header">
<code class="descname">header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.header" title="Permalink to this definition">¶</a></dt>
<dd><p>returns string header</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.next" title="Permalink to this definition">¶</a></dt>
<dd><p>returns next group</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.number_of_events">
<code class="descname">number_of_events</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.number_of_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.number_of_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Depricated, see number_of_groups()</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.number_of_groups">
<code class="descname">number_of_groups</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.number_of_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.number_of_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>returns number of groups in file</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.previous">
<code class="descname">previous</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.previous"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.previous" title="Permalink to this definition">¶</a></dt>
<dd><p>returns previous group</p>
</dd></dl>

<dl class="method">
<dt id="TDFileContainer.TDFileContainer.print_content">
<code class="descname">print_content</code><span class="sig-paren">(</span><em>nlines=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#TDFileContainer.print_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.TDFileContainer.print_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints content of the file-container; by default-entire file.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="TDFileContainer.do_work">
<code class="descclassname">TDFileContainer.</code><code class="descname">do_work</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDFileContainer.html#do_work"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDFileContainer.do_work" title="Permalink to this definition">¶</a></dt>
<dd><p>Test</p>
</dd></dl>

</div>
<span class="target" id="module-TDGroup"></span><p>TDGroup - text data event information holder/accessor class.</p>
<p>Works together with TDFileContainer and TDPeakRecord classes.</p>
<p>This software was developed for the LCLS project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<p>&#64;see TDFileContainer - loads/holds text data from class and provides per-event-indexed access. 
&#64;see TDPeakRecord - holds a list of records associated with a single event.</p>
<p>&#64;version $Id$</p>
<p>&#64;author Mikhail S. Dubrovin</p>
<dl class="class">
<dt id="TDGroup.TDGroup">
<em class="property">class </em><code class="descclassname">TDGroup.</code><code class="descname">TDGroup</code><span class="sig-paren">(</span><em>recs</em>, <em>objtype</em>, <em>pbits=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDGroup.html#TDGroup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDGroup.TDGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets in constructor a list of text data records and converts them in a list of objects</p>
<dl class="method">
<dt id="TDGroup.TDGroup.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDGroup.html#TDGroup.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDGroup.TDGroup.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias of get_objs()</p>
</dd></dl>

<dl class="method">
<dt id="TDGroup.TDGroup.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>recs</em>, <em>objtype</em>, <em>pbits=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDGroup.html#TDGroup.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDGroup.TDGroup.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor
Args:
recs    - list of text data records from file associated with this event
objtype - object type used for text data record processing/access
pbits   - print control bit-word; pbits &amp; 256 - tracking</p>
</dd></dl>

<dl class="method">
<dt id="TDGroup.TDGroup.get_objs">
<code class="descname">get_objs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/TDGroup.html#TDGroup.get_objs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#TDGroup.TDGroup.get_objs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of objs in event</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-TDMatchRecord"></span><div class="section" id="class-tdmatchrecord-helps-to-retreive-and-use-peak-data-in-processing">
<h2>Class <a class="reference internal" href="#module-TDMatchRecord" title="TDMatchRecord"><code class="xref py py-class docutils literal"><span class="pre">TDMatchRecord</span></code></a> helps to retreive and use peak data in processing<a class="headerlink" href="#class-tdmatchrecord-helps-to-retreive-and-use-peak-data-in-processing" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># import</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.TDMatchRecord</span> <span class="k">import</span> <span class="n">TDMatchRecord</span>

<span class="c1"># make object</span>
<span class="n">rec</span> <span class="o">=</span> <span class="n">TDMatchRecord</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># access record attributes</span>
<span class="n">index</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">omega</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">dr</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">qv</span><span class="p">,</span> <span class="n">qh</span><span class="p">,</span> <span class="n">P</span> <span class="o">=</span>
<span class="n">rec</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">beta</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">omega</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">h</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">k</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">l</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">dr</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">qv</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">qh</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">P</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">rec</span><span class="o">.</span><span class="n">line</span>

<span class="c1"># print attributes</span>
<span class="n">rec</span><span class="o">.</span><span class="n">print_short</span><span class="p">()</span>
</pre></div>
</div>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalUtils" title="GlobalUtils"><code class="xref py py-class docutils literal"><span class="pre">GlobalUtils</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a></li>
<li><a class="reference internal" href="#module-Quaternion" title="Quaternion"><code class="xref py py-class docutils literal"><span class="pre">Quaternion</span></code></a></li>
<li><a class="reference internal" href="#module-FiberAngles" title="FiberAngles"><code class="xref py py-class docutils literal"><span class="pre">FiberAngles</span></code></a></li>
<li><a class="reference internal" href="#module-FiberIndexing" title="FiberIndexing"><code class="xref py py-class docutils literal"><span class="pre">FiberIndexing</span></code></a></li>
<li><a class="reference internal" href="#module-PeakData" title="PeakData"><code class="xref py py-class docutils literal"><span class="pre">PeakData</span></code></a></li>
<li><a class="reference internal" href="#module-PeakStore" title="PeakStore"><code class="xref py py-class docutils literal"><span class="pre">PeakStore</span></code></a></li>
<li><a class="reference internal" href="#module-TDCheetahPeakRecord" title="TDCheetahPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDCheetahPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDFileContainer" title="TDFileContainer"><code class="xref py py-class docutils literal"><span class="pre">TDFileContainer</span></code></a></li>
<li><a class="reference internal" href="#module-TDGroup" title="TDGroup"><code class="xref py py-class docutils literal"><span class="pre">TDGroup</span></code></a></li>
<li><a class="reference internal" href="#module-TDMatchRecord" title="TDMatchRecord"><code class="xref py py-class docutils literal"><span class="pre">TDMatchRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDNodeRecord" title="TDNodeRecord"><code class="xref py py-class docutils literal"><span class="pre">TDNodeRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDPeakRecord" title="TDPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Analysis+of+data+for+cxif5315">Analysis of data for cxif5315</a>.</li>
</ul>
</dd>
</dl>
<p>Created in 2015 by Mikhail Dubrovin</p>
</div>
<span class="target" id="module-TDNodeRecord"></span><div class="section" id="class-tdnoderecord-helps-to-retreive-and-use-peak-data-in-processing">
<h2>Class <a class="reference internal" href="#module-TDNodeRecord" title="TDNodeRecord"><code class="xref py py-class docutils literal"><span class="pre">TDNodeRecord</span></code></a> helps to retreive and use peak data in processing<a class="headerlink" href="#class-tdnoderecord-helps-to-retreive-and-use-peak-data-in-processing" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Import</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.TDNodeRecord</span> <span class="k">import</span> <span class="n">TDNodeRecord</span>

<span class="c1"># make object</span>
<span class="n">rec</span> <span class="o">=</span> <span class="n">TDNodeRecord</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># access record attributes</span>
<span class="n">index</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">omega</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">dr</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">qv</span><span class="p">,</span> <span class="n">qh</span><span class="p">,</span> <span class="n">qt</span><span class="p">,</span> <span class="n">ql</span><span class="p">,</span> <span class="n">P</span> <span class="o">=</span>    <span class="n">rec</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">beta</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">omega</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">h</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">k</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">l</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">dr</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">R</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">qv</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">qh</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">qt</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">ql</span><span class="p">,</span> <span class="n">rec</span><span class="o">.</span><span class="n">P</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">rec</span><span class="o">.</span><span class="n">line</span>

<span class="c1"># print attributes</span>
<span class="n">rec</span><span class="o">.</span><span class="n">print_short</span><span class="p">()</span>
</pre></div>
</div>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalUtils" title="GlobalUtils"><code class="xref py py-class docutils literal"><span class="pre">GlobalUtils</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a></li>
<li><a class="reference internal" href="#module-Quaternion" title="Quaternion"><code class="xref py py-class docutils literal"><span class="pre">Quaternion</span></code></a></li>
<li><a class="reference internal" href="#module-FiberAngles" title="FiberAngles"><code class="xref py py-class docutils literal"><span class="pre">FiberAngles</span></code></a></li>
<li><a class="reference internal" href="#module-FiberIndexing" title="FiberIndexing"><code class="xref py py-class docutils literal"><span class="pre">FiberIndexing</span></code></a></li>
<li><a class="reference internal" href="#module-PeakData" title="PeakData"><code class="xref py py-class docutils literal"><span class="pre">PeakData</span></code></a></li>
<li><a class="reference internal" href="#module-PeakStore" title="PeakStore"><code class="xref py py-class docutils literal"><span class="pre">PeakStore</span></code></a></li>
<li><a class="reference internal" href="#module-TDCheetahPeakRecord" title="TDCheetahPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDCheetahPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDFileContainer" title="TDFileContainer"><code class="xref py py-class docutils literal"><span class="pre">TDFileContainer</span></code></a></li>
<li><a class="reference internal" href="#module-TDGroup" title="TDGroup"><code class="xref py py-class docutils literal"><span class="pre">TDGroup</span></code></a></li>
<li><a class="reference internal" href="#module-TDMatchRecord" title="TDMatchRecord"><code class="xref py py-class docutils literal"><span class="pre">TDMatchRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDNodeRecord" title="TDNodeRecord"><code class="xref py py-class docutils literal"><span class="pre">TDNodeRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDPeakRecord" title="TDPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Analysis+of+data+for+cxif5315">Analysis of data for cxif5315</a>.</li>
</ul>
</dd>
</dl>
<p>Created in 2015 by Mikhail Dubrovin</p>
</div>
<span class="target" id="module-TDPeakRecord"></span><div class="section" id="class-tdpeakrecord-helps-to-retreive-and-use-peak-data-in-processing">
<h2>Class <a class="reference internal" href="#module-TDPeakRecord" title="TDPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDPeakRecord</span></code></a> helps to retreive and use peak data in processing<a class="headerlink" href="#class-tdpeakrecord-helps-to-retreive-and-use-peak-data-in-processing" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Imports</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.TDPeakRecord</span> <span class="k">import</span> <span class="n">TDPeakRecord</span>

<span class="c1"># Usage</span>

<span class="c1"># make object</span>
<span class="n">pk</span> <span class="o">=</span> <span class="n">TDPeakRecord</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># access peak attributes</span>
<span class="n">exp</span>  <span class="o">=</span> <span class="n">pk</span><span class="o">.</span><span class="n">exp</span>  <span class="c1"># (str)   experiment name</span>
<span class="n">run</span>  <span class="o">=</span> <span class="n">pk</span><span class="o">.</span><span class="n">run</span>  <span class="c1"># (int)   run number</span>
<span class="n">son</span>  <span class="o">=</span> <span class="n">pk</span><span class="o">.</span><span class="n">son</span>  <span class="c1"># (float) S/N for pixel with maximal intensity </span>
<span class="n">sonc</span> <span class="o">=</span> <span class="n">pk</span><span class="o">.</span><span class="n">sonc</span> <span class="c1"># (float) S/N for all pixels included in the peak</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">pk</span><span class="o">.</span><span class="n">line</span> <span class="c1"># (str)   entire record with peak data</span>
<span class="o">...</span>

<span class="c1"># Information available through the TDPeakRecord object pk</span>
<span class="c1"># ____________________________________________________</span>
<span class="c1"># pk.exp, pk.run, pk.evnum, pk.reg</span>
<span class="c1"># pk.date, pk.time, pk.tsec, pk.tnsec, pk.fid</span>
<span class="c1"># pk.seg, pk.row, pk.col, pk.amax, pk.atot, pk.npix</span>
<span class="c1"># pk.rcent, pk.ccent, pk.rsigma, pk.csigma</span>
<span class="c1"># pk.rmin, pk.rmax, pk.cmin, pk.cmax</span>
<span class="c1"># pk.bkgd, pk.rms, pk.son</span>
<span class="c1"># pk.imrow, pk.imcol</span>
<span class="c1"># pk.x, pk.y, pk.r, pk.phi</span>
<span class="c1"># pk.sonc</span>
<span class="c1"># pk.dphi000</span>
<span class="c1"># pk.dphi180</span>
<span class="c1"># pk.line</span>
<span class="c1"># pk.nsplit</span>

<span class="c1"># get evaluated parameters</span>
<span class="c1"># pk.peak_signal()</span>
<span class="c1"># pk.peak_noise()</span>
<span class="c1"># pk.peak_son()</span>

<span class="c1"># for peak records with fit information:</span>
<span class="c1"># pk.fit_phi, pk.fit_beta</span>
<span class="c1"># pk.fit_phi_err, pk.fit_beta_err</span>
<span class="c1"># pk.fit_chi2, pk.fit_ndof, pk.fit_prob</span>
        
<span class="c1"># print attributes</span>
<span class="n">pk</span><span class="o">.</span><span class="n">print_peak_data</span><span class="p">()</span>
<span class="n">pk</span><span class="o">.</span><span class="n">print_peak_data_short</span><span class="p">()</span>
<span class="n">pk</span><span class="o">.</span><span class="n">print_attrs</span><span class="p">()</span>
</pre></div>
</div>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalUtils" title="GlobalUtils"><code class="xref py py-class docutils literal"><span class="pre">GlobalUtils</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a></li>
<li><a class="reference internal" href="#module-Quaternion" title="Quaternion"><code class="xref py py-class docutils literal"><span class="pre">Quaternion</span></code></a></li>
<li><a class="reference internal" href="#module-FiberAngles" title="FiberAngles"><code class="xref py py-class docutils literal"><span class="pre">FiberAngles</span></code></a></li>
<li><a class="reference internal" href="#module-FiberIndexing" title="FiberIndexing"><code class="xref py py-class docutils literal"><span class="pre">FiberIndexing</span></code></a></li>
<li><a class="reference internal" href="#module-PeakData" title="PeakData"><code class="xref py py-class docutils literal"><span class="pre">PeakData</span></code></a></li>
<li><a class="reference internal" href="#module-PeakStore" title="PeakStore"><code class="xref py py-class docutils literal"><span class="pre">PeakStore</span></code></a></li>
<li><a class="reference internal" href="#module-TDCheetahPeakRecord" title="TDCheetahPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDCheetahPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDFileContainer" title="TDFileContainer"><code class="xref py py-class docutils literal"><span class="pre">TDFileContainer</span></code></a></li>
<li><a class="reference internal" href="#module-TDGroup" title="TDGroup"><code class="xref py py-class docutils literal"><span class="pre">TDGroup</span></code></a></li>
<li><a class="reference internal" href="#module-TDMatchRecord" title="TDMatchRecord"><code class="xref py py-class docutils literal"><span class="pre">TDMatchRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDNodeRecord" title="TDNodeRecord"><code class="xref py py-class docutils literal"><span class="pre">TDNodeRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDPeakRecord" title="TDPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Analysis+of+data+for+cxif5315">Analysis of data for cxif5315</a>.</li>
</ul>
</dd>
</dl>
<p>Created in 2015 by Mikhail Dubrovin</p>
</div>
<span class="target" id="module-TDCheetahPeakRecord"></span><div class="section" id="id13">
<h2>Class <a class="reference internal" href="#module-TDNodeRecord" title="TDNodeRecord"><code class="xref py py-class docutils literal"><span class="pre">TDNodeRecord</span></code></a> helps to retreive and use peak data in processing<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<p>Usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Imports</span>
<span class="kn">from</span> <span class="nn">pyimgalgos.TDCheetahPeakRecord</span> <span class="k">import</span> <span class="n">TDCheetahPeakRecord</span>

<span class="c1"># Usage</span>

<span class="c1"># make object</span>
<span class="n">rec</span> <span class="o">=</span> <span class="n">TDCheetahPeakRecord</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># access peak attributes</span>
<span class="n">rec</span><span class="o">.</span><span class="n">line</span>
<span class="n">rec</span><span class="o">.</span><span class="n">fields</span>        

<span class="n">rec</span><span class="o">.</span><span class="n">frameNumber</span>
<span class="n">rec</span><span class="o">.</span><span class="n">runnum</span>
<span class="n">rec</span><span class="o">.</span><span class="n">tstamp</span>
<span class="n">rec</span><span class="o">.</span><span class="n">fid</span>
<span class="n">rec</span><span class="o">.</span><span class="n">photonEnergyEv</span>
<span class="n">rec</span><span class="o">.</span><span class="n">wavelengthA</span>
<span class="n">rec</span><span class="o">.</span><span class="n">GMD</span>
<span class="n">rec</span><span class="o">.</span><span class="n">peak_index</span>
<span class="n">rec</span><span class="o">.</span><span class="n">peak_x_raw</span>
<span class="n">rec</span><span class="o">.</span><span class="n">peak_y_raw</span>
<span class="n">rec</span><span class="o">.</span><span class="n">peak_r_assembled</span>
<span class="n">rec</span><span class="o">.</span><span class="n">peak_q</span>
<span class="n">rec</span><span class="o">.</span><span class="n">peak_resA</span>
<span class="n">rec</span><span class="o">.</span><span class="n">nPixels</span>
<span class="n">rec</span><span class="o">.</span><span class="n">totalIntensity</span>
<span class="n">rec</span><span class="o">.</span><span class="n">maxIntensity</span>
<span class="n">rec</span><span class="o">.</span><span class="n">sigmaBG</span>
<span class="n">rec</span><span class="o">.</span><span class="n">SNR</span>
<span class="n">rec</span><span class="o">.</span><span class="n">tsec</span>

<span class="c1"># print attributes</span>
<span class="n">rec</span><span class="o">.</span><span class="n">print_peak_data</span><span class="p">()</span>
<span class="n">rec</span><span class="o">.</span><span class="n">print_peak_data_short</span><span class="p">()</span>
<span class="n">rec</span><span class="o">.</span><span class="n">print_attrs</span><span class="p">()</span>
</pre></div>
</div>
<p>This software was developed for the SIT project.
If you use all or part of it, please give an appropriate acknowledgment.</p>
<dl class="docutils">
<dt>See:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="#module-Graphics" title="Graphics"><code class="xref py py-class docutils literal"><span class="pre">Graphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalGraphics" title="GlobalGraphics"><code class="xref py py-class docutils literal"><span class="pre">GlobalGraphics</span></code></a></li>
<li><a class="reference internal" href="#module-GlobalUtils" title="GlobalUtils"><code class="xref py py-class docutils literal"><span class="pre">GlobalUtils</span></code></a></li>
<li><a class="reference internal" href="#module-NDArrGenerators" title="NDArrGenerators"><code class="xref py py-class docutils literal"><span class="pre">NDArrGenerators</span></code></a></li>
<li><a class="reference internal" href="#module-Quaternion" title="Quaternion"><code class="xref py py-class docutils literal"><span class="pre">Quaternion</span></code></a></li>
<li><a class="reference internal" href="#module-FiberAngles" title="FiberAngles"><code class="xref py py-class docutils literal"><span class="pre">FiberAngles</span></code></a></li>
<li><a class="reference internal" href="#module-FiberIndexing" title="FiberIndexing"><code class="xref py py-class docutils literal"><span class="pre">FiberIndexing</span></code></a></li>
<li><a class="reference internal" href="#module-PeakData" title="PeakData"><code class="xref py py-class docutils literal"><span class="pre">PeakData</span></code></a></li>
<li><a class="reference internal" href="#module-PeakStore" title="PeakStore"><code class="xref py py-class docutils literal"><span class="pre">PeakStore</span></code></a></li>
<li><a class="reference internal" href="#module-TDCheetahPeakRecord" title="TDCheetahPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDCheetahPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDFileContainer" title="TDFileContainer"><code class="xref py py-class docutils literal"><span class="pre">TDFileContainer</span></code></a></li>
<li><a class="reference internal" href="#module-TDGroup" title="TDGroup"><code class="xref py py-class docutils literal"><span class="pre">TDGroup</span></code></a></li>
<li><a class="reference internal" href="#module-TDMatchRecord" title="TDMatchRecord"><code class="xref py py-class docutils literal"><span class="pre">TDMatchRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDNodeRecord" title="TDNodeRecord"><code class="xref py py-class docutils literal"><span class="pre">TDNodeRecord</span></code></a></li>
<li><a class="reference internal" href="#module-TDPeakRecord" title="TDPeakRecord"><code class="xref py py-class docutils literal"><span class="pre">TDPeakRecord</span></code></a></li>
<li><a class="reference internal" href="#module-HBins" title="HBins"><code class="xref py py-class docutils literal"><span class="pre">HBins</span></code></a></li>
<li><a class="reference internal" href="#module-HPolar" title="HPolar"><code class="xref py py-class docutils literal"><span class="pre">HPolar</span></code></a></li>
<li><a class="reference internal" href="#module-HSpectrum" title="HSpectrum"><code class="xref py py-class docutils literal"><span class="pre">HSpectrum</span></code></a></li>
<li><a class="reference internal" href="#module-RadialBkgd" title="RadialBkgd"><code class="xref py py-class docutils literal"><span class="pre">RadialBkgd</span></code></a></li>
<li><a class="reference external" href="https://confluence.slac.stanford.edu/display/PSDMInternal/Analysis+of+data+for+cxif5315">Analysis of data for cxif5315</a>.</li>
</ul>
</dd>
</dl>
<p>Created in 2015 by Mikhail Dubrovin</p>
</div>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
</tbody>
</table>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          
          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/index.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Mikhail Dubrovin.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>